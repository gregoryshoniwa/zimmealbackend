(function(t){function e(e){for(var r,o,l=e[0],n=e[1],d=e[2],c=0,v=[];c<l.length;c++)o=l[c],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&v.push(i[o][0]),i[o]=0;for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);u&&u(e);while(v.length)v.shift()();return s.push.apply(s,d||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],r=!0,o=1;o<a.length;o++){var n=a[o];0!==i[n]&&(r=!1)}r&&(s.splice(e--,1),t=l(l.s=a[0]))}return t}var r={},i={app:0},s=[];function o(t){return l.p+"js/"+({about:"about"}[t]||t)+"."+{about:"abd7f149","chunk-2d216214":"926a9779","chunk-2d216257":"256ee085","chunk-fe45e950":"254d5ae2"}[t]+".js"}function l(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.e=function(t){var e=[],a=i[t];if(0!==a)if(a)e.push(a[2]);else{var r=new Promise((function(e,r){a=i[t]=[e,r]}));e.push(a[2]=r);var s,n=document.createElement("script");n.charset="utf-8",n.timeout=120,l.nc&&n.setAttribute("nonce",l.nc),n.src=o(t);var d=new Error;s=function(e){n.onerror=n.onload=null,clearTimeout(c);var a=i[t];if(0!==a){if(a){var r=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+r+": "+s+")",d.name="ChunkLoadError",d.type=r,d.request=s,a[1](d)}i[t]=void 0}};var c=setTimeout((function(){s({type:"timeout",target:n})}),12e4);n.onerror=n.onload=s,document.head.appendChild(n)}return Promise.all(e)},l.m=t,l.c=r,l.d=function(t,e,a){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)l.d(a,r,function(e){return t[e]}.bind(null,r));return a},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/",l.oe=function(t){throw console.error(t),t};var n=window["webpackJsonp"]=window["webpackJsonp"]||[],d=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var u=d;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0c7d":function(t,e,a){"use strict";var r=a("4280"),i=a.n(r);i.a},"118f":function(t,e,a){t.exports=a.p+"img/ghub_white_.67ca2f5e.png"},"1ba7":function(t,e,a){},"1f0c":function(t,e,a){},"226b":function(t,e,a){},"290d":function(t,e,a){"use strict";var r=a("1f0c"),i=a.n(r);i.a},"2ea6":function(t,e,a){"use strict";var r=a("e94e"),i=a.n(r);i.a},"31b7":function(t,e,a){"use strict";var r=a("abf9"),i=a.n(r);i.a},4280:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("router-view")],1)},s=[],o=(a("5c0b"),a("2877")),l=a("6544"),n=a.n(l),d=a("7496"),c={},u=Object(o["a"])(c,i,s,!1,null,null,null),v=u.exports;n()(u,{VApp:d["a"]});a("d1e78"),a("15f5");var p=a("f309");r["a"].use(p["a"]);var m=new p["a"]({mdicons:{iconfont:"md"},faicons:{iconfont:"fa"}}),h=(a("d3b7"),a("8c4f")),f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"overflow-hidden"},[a("v-app",{attrs:{id:"inspire"}},[a("v-navigation-drawer",{attrs:{app:"",permanent:"","expand-on-hover":"",dark:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list",{staticClass:"text-left",attrs:{nav:""}},[a("v-list-item-group",{attrs:{"active-class":"text--accent-4"}},[1==t.userType?a("v-list-item",{on:{click:function(e){return t.selectMenu("dashboard")}}},[a("v-list-item-icon",[a("v-icon",[t._v("dashboard")])],1),a("v-list-item-title",[t._v("Dashboard")])],1):t._e(),1==t.userType||5==t.userType?a("v-list-item",{on:{click:function(e){return t.selectMenu("silo")}}},[a("v-list-item-icon",[a("v-icon",[t._v("gradient")])],1),a("v-list-item-title",[t._v("Silo Management")])],1):t._e(),1==t.userType||2==t.userType?a("v-list-item",{on:{click:function(e){return t.selectMenu("sales")}}},[a("v-list-item-icon",[a("v-icon",[t._v("receipt")])],1),a("v-list-item-title",[t._v("Sales")])],1):t._e(),1==t.userType||2==t.userType?a("v-list-item",{on:{click:function(e){return t.selectMenu("logistics")}}},[a("v-list-item-icon",[a("v-icon",[t._v("local_shipping")])],1),a("v-list-item-title",[t._v("Logistics")])],1):t._e(),1==t.userType||3==t.userType?a("v-list-item",{on:{click:function(e){return t.selectMenu("stocks")}}},[a("v-list-item-icon",[a("v-icon",[t._v("grain")])],1),a("v-list-item-title",[t._v("Stock Management")])],1):t._e(),1==t.userType||3==t.userType?a("v-list-item",{on:{click:function(e){return t.selectMenu("accounts")}}},[a("v-list-item-icon",[a("v-icon",[t._v("assessment")])],1),a("v-list-item-title",[t._v("Accounts")])],1):t._e(),1==t.userType?a("v-list-item",{on:{click:function(e){return t.selectMenu("customers")}}},[a("v-list-item-icon",[a("v-icon",[t._v("perm_contact_calendar")])],1),a("v-list-item-title",[t._v("Customers")])],1):t._e(),1==t.userType?a("v-list-item",{on:{click:function(e){return t.selectMenu("suppliers")}}},[a("v-list-item-icon",[a("v-icon",[t._v("people")])],1),a("v-list-item-title",[t._v("Suppilers")])],1):t._e(),1==t.userType?a("v-list-item",{on:{click:function(e){return t.selectMenu("users")}}},[a("v-list-item-icon",[a("v-icon",[t._v("face")])],1),a("v-list-item-title",[t._v("Users")])],1):t._e(),a("v-list-item",{on:{click:t.logout}},[a("v-list-item-icon",[a("v-icon",[t._v("exit_to_app")])],1),a("v-list-item-title",[t._v("Log Out")])],1)],1)],1)],1),a("v-main",[a(t.page,{tag:"component"})],1)],1),a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.dialogloader,callback:function(e){t.dialogloader=e},expression:"dialogloader"}},[a("v-card",{attrs:{color:"#003263",dark:""}},[a("v-card-text",[a("br"),a("h3",[t._v("Please stand by")]),a("br"),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}}),a("br")],1)],1)],1)],1)},g=[],x=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-app-bar",{attrs:{color:"#003263",dark:"",src:a("d7c3")},scopedSlots:t._u([{key:"img",fn:function(e){var a=e.props;return[r("v-img",t._b({attrs:{gradient:"to top right, rgb(1,48,98,.9), rgb(22,61,99,.8)"}},"v-img",a,!1))]}},{key:"extension",fn:function(){},proxy:!0}])},[r("div",[r("img",{staticClass:"bounceIn",staticStyle:{"margin-top":"50px"},attrs:{src:a("118f"),width:"150"}})]),r("v-spacer"),r("v-toolbar-title",[t._v("Dashboard")]),r("v-btn-toggle",{staticClass:"ml-5",attrs:{dark:"",dense:"",color:"grey",group:""},model:{value:t.cardDateData,callback:function(e){t.cardDateData=e},expression:"cardDateData"}},[r("v-btn",{attrs:{value:"1"}},[t._v(" This Month ")]),r("v-btn",{attrs:{value:"2"}},[t._v(" Over-All ")])],1)],1),r("div",{staticStyle:{"background-color":"#EBEFF3"}},[r("v-layout",{staticStyle:{display:"flex","justify-content":"flex-end"},attrs:{row:"",wrap:""}},t._l(t.cardData,(function(t,e){return r("v-flex",{key:e,attrs:{xs12:"",md2:"","pa-2":"","pl-5":""}},[r("div",[r("NMBCard",{attrs:{value:t.value,name:t.name}})],1)])})),1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",md12:"","pa-2":"","pl-5":"","pr-5":""}},[r("TendChart",{attrs:{tonnage:t.tonnageData,income:t.incomeT,created:t.createdData,expense:t.expensesT}})],1)],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",md4:"","pa-2":"","pl-5":"","pb-5":""}},[r("Unresolved",{attrs:{chartData:t.chartData,recieved:t.recievedData,resolved:t.resolvedData}})],1),r("v-flex",{attrs:{xs12:"",md4:"","pa-2":""}},[r("Leaderboard",{attrs:{chartData:t.chartData2,recieved:t.recievedData,resolved:t.resolvedData}})],1),r("v-flex",{attrs:{xs12:"",md4:"","pa-2":"","pr-5":""}},[r("CustomerSet",{attrs:{chartData:t.chartData1,recieved:t.recievedData,resolved:t.resolvedData}})],1)],1)],1)],1)},y=[],b=(a("96cf"),a("1da1")),_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{attrs:{color:"white",hover:"",width:"230"}},[a("v-img",{staticClass:"white--text",attrs:{height:"100px",src:t.imageUrL}},[a("v-layout",{attrs:{row:""}},[a("v-layout",{attrs:{column:"",wrap:""}},[a("v-flex",{attrs:{"ma-4":""}})],1),a("v-layout",{attrs:{column:"",wrap:"","justify-end":""}},[a("v-flex",{attrs:{"ma-4":""}},t._l(t.value,(function(e,r){return a("div",{key:r},["Total Sales"!=t.name?a("h2",{staticClass:"iCountUp",staticStyle:{"text-align":"right","margin-right":"15px","margin-top":"-10px"}},[t._v(" "+t._s(e.currencyISO)+" "),a("ICountUp",{attrs:{delay:t.delay,endVal:e.income,options:t.options}})],1):t._e(),"Total Sales"==t.name?a("h2",{staticClass:"iCountUp",staticStyle:{"text-align":"right","margin-right":"15px","margin-top":"-10px"}},[t._v(" "+t._s(e.currencyISO)+" Invoices "),a("ICountUp",{attrs:{delay:t.delay,endVal:e.income,options:t.options2}})],1):t._e()])})),0)],1)],1)],1),a("v-divider",{attrs:{light:""}}),a("v-card-actions",[a("v-spacer"),a("h2",[t._v(t._s(t.cardName))])],1)],1)],1)},D=[],k=(a("b0c0"),a("87f4")),w=a.n(k),S={components:{ICountUp:w.a},props:["value","name"],data:function(){return{imageUrL:"",delay:200,cardName:"",stack_value:0,options:{useEasing:!0,useGrouping:!0,separator:",",decimal:".",decimalPlaces:2},options2:{useEasing:!0,useGrouping:!0,separator:",",decimal:".",decimalPlaces:0}}},mounted:function(){this.name&&(this.stack_value=this.value,this.cardName=this.name,"Total Sales"==this.cardName&&(this.imageUrL="images/bg2.jpg"),"Total Deliveries"==this.cardName&&(this.imageUrL="images/bg4.jpg"),"Pending Deliveries"==this.cardName&&(this.imageUrL="images/bg3.jpg"),"Total Income"==this.cardName&&(this.imageUrL="images/bg5.jpg"),"Expenses"==this.cardName&&(this.imageUrL="images/bg1.jpg"),"Net Profit"==this.cardName&&(this.imageUrL="images/bg2.jpg"))},methods:{onReadyOut:function(t){var e=this;t.update(e.stack_value)}}},C=S,N=(a("6a9d"),a("b0afa")),I=a("99d9"),P=a("ce7e"),A=a("0e8f"),T=a("adda"),F=a("a722"),$=a("2fa4"),O=Object(o["a"])(C,_,D,!1,null,"7b246f21",null),V=O.exports;n()(O,{VCard:N["a"],VCardActions:I["a"],VDivider:P["a"],VFlex:A["a"],VImg:T["a"],VLayout:F["a"],VSpacer:$["a"]});var U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{attrs:{color:"white",hover:"",width:"100%",height:"500"}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",md7:"","pa-2":"","pl-5":""}},[a("div",{staticClass:"echarts"},[a("IEcharts",{attrs:{option:t.option}})],1)]),a("v-flex",{staticStyle:{"margin-top":"50px"},attrs:{xs12:"",md5:"","pa-2":"","pl-5":"","pr-5":""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",md6:"","pa-5":"","pl-5":""}},[a("div",{staticClass:"text-left",staticStyle:{"border-width":"5px","border-color":"#CFD8DC","border-left-style":"solid","padding-left":"20px","margin-left":"20px"}},[a("span",[t._v("Orders Created ")]),a("br"),a("h1",[t._v(t._s(t.created))])])]),a("v-flex",{attrs:{xs12:"",md6:"","pa-5":"","pl-5":"","pr-5":""}},[a("div",{staticClass:"text-left",staticStyle:{"border-width":"5px","border-color":"#CFD8DC","border-left-style":"solid","padding-left":"20px","margin-left":"20px"}},[a("span",[t._v("Sold Tonnage")]),a("br"),a("h1",[t._v(t._s(t.tonnage))])])])],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",md6:"","pa-5":"","pl-5":""}},[a("div",{staticClass:"text-left",staticStyle:{"border-width":"5px","border-color":"#CFD8DC","border-left-style":"solid","padding-left":"20px","margin-left":"20px"}},[a("span",[t._v("Today's Income")]),a("br"),t._l(t.income,(function(e,r){return a("div",{key:r},[a("h1",[t._v(t._s(e.currencyISO)+" "+t._s(parseFloat(e.income).toFixed(2)))]),a("br")])}))],2)]),a("v-flex",{attrs:{xs12:"",md6:"","pa-5":"","pl-5":"","pr-5":""}},[a("div",{staticClass:"text-left",staticStyle:{"border-width":"5px","border-color":"#CFD8DC","border-left-style":"solid","padding-left":"20px","margin-left":"20px"}},[a("span",[t._v("Today's Expenses")]),a("br"),t._l(t.expense,(function(e,r){return a("div",{key:r},[a("h1",[t._v(t._s(e.currencyISO)+" "+t._s(parseFloat(e.expenses).toFixed(2)))]),a("br")])}))],2)])],1)],1)],1)],1)],1)},E=[],z=(a("4160"),a("b680"),a("159b"),a("ce44")),R={components:{IEcharts:z["a"]},props:["tonnage","income","expense","created"],data:function(){return{nodeApi:"",messages:[{from:"Resolved",message:"305",color:"#003263"},{from:"Avg first response time",message:"7h 8m",color:"green"},{from:"Resolution within SLA",message:"80%",color:"#003263"}],messages2:[{from:"Received",message:"333",color:"#003263"},{from:"Avg Response Time",message:"5h 2m",color:"green"}],option:{},graphChartDataA:[],graphChartDataB:[]}},beforeMount:function(){this.getDashboardData()},mounted:function(){},methods:{getDashboardData:function(){var t=this;return Object(b["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.axios.all([t.axios.get(t.nodeApi+"/getTotalSalesGraph"),t.axios.get(t.nodeApi+"/getTotalSalesGraph2")]).then(t.axios.spread((function(e,a){t.graphChartDataA=e.data,t.graphChartDataB=a.data}))).catch((function(t){return console.log(t)}));case 2:return e.next=4,t.setOptions();case 4:case"end":return e.stop()}}),e)})))()},setOptions:function(){var t=["0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00"],e=["0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00"];this.graphChartDataA.forEach((function(e){t[e.docMonth-1]=parseFloat(e.docTotal).toFixed(2)})),this.graphChartDataB.forEach((function(t){e[t.docMonth-1]=parseFloat(t.docTotal).toFixed(2)})),this.option={title:{text:"Income Chart",subtext:"Periodic chart for sales income"},tooltip:{trigger:"axis"},legend:{data:["USD","ZWL"],right:10},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},yAxis:{type:"value"},series:[{name:"USD",type:"bar",stack:"总量",data:t},{name:"ZWL",type:"bar",stack:"总量",data:e}]}}}},M=R,L=(a("f431"),Object(o["a"])(M,U,E,!1,null,"70409d71",null)),j=L.exports;n()(L,{VCard:N["a"],VFlex:A["a"],VLayout:F["a"]});var B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{attrs:{color:"white",hover:"",width:"100%",height:"350"}},[a("v-card-title",[t._v("Top Customer List")]),a("v-card-subtitle",{staticClass:"text-left"},[t._v("Across the system launch")]),a("v-simple-table",{attrs:{"fixed-header":"",height:"240px"},scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[t._v(" Name ")]),a("th",{staticClass:"text-center"},[t._v(" Sales ")])])]),a("tbody",t._l(t.chartData,(function(e,r){return a("tr",{key:e.customerName},[a("td",{staticClass:"text-left"},[t._v(t._s(e.customerName))]),a("v-chip",{staticClass:"ma-2",attrs:{color:t.colorArray[r]}},[a("td",{staticClass:"text-left"},[t._v(t._s(e.sales))])])],1)})),0)]},proxy:!0}])})],1)],1)},Y=[],G={props:["chartData","recieved","resolved"],data:function(){return{colorArray:["primary","secondary","red","green"],desserts:[]}},mounted:function(){this.desserts=this.chartData},methods:{}},q=G,J=(a("2ea6"),a("cc20")),Z=a("1f4f"),W=Object(o["a"])(q,B,Y,!1,null,"7596638a",null),K=W.exports;n()(W,{VCard:N["a"],VCardSubtitle:I["b"],VCardTitle:I["d"],VChip:J["a"],VSimpleTable:Z["a"]});var H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{attrs:{color:"white",hover:"",width:"100%",height:"350"}},[a("v-card-title",[t._v("Top Supplier List")]),a("v-card-subtitle",{staticClass:"text-left"},[t._v("Across The System launch")]),a("v-simple-table",{attrs:{"fixed-header":"",height:"240px"},scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[t._v(" Name ")]),a("th",{staticClass:"text-center"},[t._v(" Deliveries ")])])]),a("tbody",t._l(t.chartData,(function(e,r){return a("tr",{key:e.supplierName},[a("td",{staticClass:"text-left"},[t._v(t._s(e.supplierName))]),a("v-chip",{staticClass:"ma-2",attrs:{color:t.colorArray[r]}},[a("td",{staticClass:"text-left"},[t._v(t._s(e.supplies))])])],1)})),0)]},proxy:!0}])})],1)],1)},Q=[],X={props:["chartData","recieved","resolved"],data:function(){return{colorArray:["primary","secondary","red","green"],desserts:[]}},mounted:function(){},methods:{}},tt=X,et=(a("290d"),Object(o["a"])(tt,H,Q,!1,null,"1d2a6d12",null)),at=et.exports;n()(et,{VCard:N["a"],VCardSubtitle:I["b"],VCardTitle:I["d"],VChip:J["a"],VSimpleTable:Z["a"]});var rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{attrs:{color:"white",hover:"",width:"100%",height:"350"}},[a("v-card-title",[t._v("Top Driver List")]),a("v-card-subtitle",{staticClass:"text-left"},[t._v("Across the system launch")]),a("v-simple-table",{attrs:{"fixed-header":"",height:"240px"},scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[t._v(" Name ")]),a("th",{staticClass:"text-center"},[t._v(" Sales ")])])]),a("tbody",t._l(t.chartData,(function(e,r){return a("tr",{key:e.driverName},[a("td",{staticClass:"text-left"},[t._v(t._s(e.driverName))]),a("v-chip",{staticClass:"ma-2",attrs:{color:t.colorArray[r]}},[a("td",{staticClass:"text-left"},[t._v(t._s(e.sales))])])],1)})),0)]},proxy:!0}])})],1)],1)},it=[],st={props:["chartData","recieved","resolved"],data:function(){return{colorArray:["primary","secondary","red","green"],desserts:[]}},mounted:function(){},methods:{}},ot=st,lt=(a("be85"),Object(o["a"])(ot,rt,it,!1,null,"4e135b38",null)),nt=lt.exports;n()(lt,{VCard:N["a"],VCardSubtitle:I["b"],VCardTitle:I["d"],VChip:J["a"],VSimpleTable:Z["a"]});var dt={components:{NMBCard:V,TendChart:j,Unresolved:K,Leaderboard:at,CustomerSet:nt},data:function(){return{cardDateData:"1",nodeApi:"",cardData:[],chartData:[],chartData1:[],chartData2:[],recievedData:[],resolvedData:[],sales:[],created:[],tonnage:[],customers:[],drivers:[],income:[],expenses:[],incomeT:[],expensesT:[],profit:[],suppliers:[],tonnageData:"",createdData:"",expensesData:"",graphChartDataA:[],graphChartDataB:[],graphAA:[],graphBB:[],graphData:[]}},beforeMount:function(){this.getDashboardDataMonth(),console.log(this.cardDateData)},mounted:function(){},watch:{cardDateData:function(t){t&&(1==t?this.getDashboardDataMonth():this.getDashboardData())}},methods:{getDashboardData:function(){var t=this;return Object(b["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.axios.all([t.axios.get(t.nodeApi+"/getTotalSales"),t.axios.get(t.nodeApi+"/getTotalCreated"),t.axios.get(t.nodeApi+"/getTotalTonnage"),t.axios.get(t.nodeApi+"/getTotalCustomerSales"),t.axios.get(t.nodeApi+"/getTotalDriverSales"),t.axios.get(t.nodeApi+"/getTotalIncome"),t.axios.get(t.nodeApi+"/getTotalExpenses"),t.axios.get(t.nodeApi+"/getTotalNetProfit"),t.axios.get(t.nodeApi+"/getTotalSuppliersIn"),t.axios.get(t.nodeApi+"/getTotalIncomeToday"),t.axios.get(t.nodeApi+"/getTotalExpensesToday")]).then(t.axios.spread((function(e,a,r,i,s,o,l,n,d,c,u){t.sales=e.data,t.created=a.data,t.tonnage=r.data,t.customers=i.data,t.drivers=s.data,t.income=o.data,t.expenses=l.data,t.profit=n.data,t.suppliers=d.data,t.incomeT=c.data,t.expensesT=u.data}))).catch((function(t){return console.log(t)}));case 2:t.chartData=t.customers,t.chartData1=t.drivers,t.chartData2=t.suppliers,t.tonnageData=t.tonnage[0].tonnage,t.createdData=t.created[0].sales,t.cardData=[{name:"Total Sales",value:t.sales},{name:"Total Income",value:t.income},{name:"Expenses",value:t.expenses},{name:"Net Profit",value:t.profit}],t.dialogloader=!1;case 9:case"end":return e.stop()}}),e)})))()},getDashboardDataMonth:function(){var t=this;return Object(b["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.axios.all([t.axios.get(t.nodeApi+"/getTotalSalesMonth"),t.axios.get(t.nodeApi+"/getTotalCreatedMonth"),t.axios.get(t.nodeApi+"/getTotalTonnageMonth"),t.axios.get(t.nodeApi+"/getTotalCustomerSalesMonth"),t.axios.get(t.nodeApi+"/getTotalDriverSalesMonth"),t.axios.get(t.nodeApi+"/getTotalIncomeMonth"),t.axios.get(t.nodeApi+"/getTotalExpensesMonth"),t.axios.get(t.nodeApi+"/getTotalNetProfitMonth"),t.axios.get(t.nodeApi+"/getTotalSuppliersInMonth"),t.axios.get(t.nodeApi+"/getTotalIncomeToday"),t.axios.get(t.nodeApi+"/getTotalExpensesToday")]).then(t.axios.spread((function(e,a,r,i,s,o,l,n,d,c,u){t.sales=e.data,t.created=a.data,t.tonnage=r.data,t.customers=i.data,t.drivers=s.data,t.income=o.data,t.expenses=l.data,t.profit=n.data,t.suppliers=d.data,t.incomeT=c.data,t.expensesT=u.data}))).catch((function(t){return console.log(t)}));case 2:t.chartData=t.customers,t.chartData1=t.drivers,t.chartData2=t.suppliers,t.tonnageData=t.tonnage[0].tonnage,t.createdData=t.created[0].sales,t.cardData=[{name:"Total Sales",value:t.sales},{name:"Total Income",value:t.income},{name:"Expenses",value:t.expenses},{name:"Net Profit",value:t.profit}],t.dialogloader=!1;case 9:case"end":return e.stop()}}),e)})))()}}},ct=dt,ut=a("40dc"),vt=a("8336"),pt=a("a609"),mt=a("2a7f"),ht=Object(o["a"])(ct,x,y,!1,null,null,null),ft=ht.exports;n()(ht,{VAppBar:ut["a"],VBtn:vt["a"],VBtnToggle:pt["a"],VFlex:A["a"],VImg:T["a"],VLayout:F["a"],VSpacer:$["a"],VToolbarTitle:mt["b"]});var gt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-app-bar",{attrs:{color:"#003263",dark:"",src:a("d7c3")},scopedSlots:t._u([{key:"img",fn:function(e){var a=e.props;return[r("v-img",t._b({attrs:{gradient:"to top right, rgb(1,48,98,.9), rgb(22,61,99,.8)"}},"v-img",a,!1))]}},{key:"extension",fn:function(){return[r("v-tabs",{attrs:{right:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.items,(function(e){return r("v-tab",{key:e},[t._v(" "+t._s(e)+" ")])})),1)]},proxy:!0}])},[r("div",[r("img",{staticClass:"bounceIn",staticStyle:{"margin-top":"50px"},attrs:{src:a("118f"),width:"150"}})]),r("v-spacer"),r("v-toolbar-title",[t._v("Sales Management")])],1),r("div",{staticStyle:{"background-color":"#EBEFF3",height:"88vh","overflow-y":"auto",display:"flex","justify-content":"center"}},[r("br"),0==t.tab?r("v-card",{staticClass:"ma-5",attrs:{width:"900",height:"800"}},[r("v-toolbar",{attrs:{dark:"",color:"blue",flat:""}},[r("v-toolbar-title",[t._v("Sale Order Form")]),r("v-spacer"),r("v-btn-toggle",{attrs:{color:"blue","background-color":"white"},model:{value:t.docCurrency,callback:function(e){t.docCurrency=e},expression:"docCurrency"}},[r("v-btn",{attrs:{value:"1"}},[t._v(" USD ")]),r("v-btn",{attrs:{value:"2"}},[t._v(" ZWL ")])],1)],1),r("v-card-text",[r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:"",md6:""}},[r("div",{staticStyle:{display:"flex","justify-content":"start","margin-left":"20px"}},[r("span",[t._v("Select Document Date")])]),r("v-text-field",{staticClass:"ml-5",attrs:{solo:"",outlined:"",type:"date"},model:{value:t.salesOrder.docDate,callback:function(e){t.$set(t.salesOrder,"docDate",e)},expression:"salesOrder.docDate"}})],1),r("v-flex",{attrs:{xs12:"",md6:""}},[r("div",{staticStyle:{display:"flex","justify-content":"start","margin-left":"20px"}},[r("span",[t._v("Select Customer")])]),r("v-autocomplete",{staticClass:"ml-5 mr-5",attrs:{"item-text":"customerName","item-value":"customerId",items:t.customers,solo:"",outlined:""},model:{value:t.salesOrder.customerId,callback:function(e){t.$set(t.salesOrder,"customerId",e)},expression:"salesOrder.customerId"}})],1),r("v-flex",{attrs:{xs12:"",md6:""}},[r("div",{staticStyle:{display:"flex","justify-content":"start","margin-left":"20px"}},[r("span",[t._v("Truck Driver")])]),r("v-text-field",{staticClass:"ml-5 mr-5",attrs:{solo:"",outlined:"",type:"text"},model:{value:t.salesOrder.driverId,callback:function(e){t.$set(t.salesOrder,"driverId",e)},expression:"salesOrder.driverId"}})],1),r("v-flex",{attrs:{xs12:"",md6:""}},[r("div",{staticStyle:{display:"flex","justify-content":"start","margin-left":"20px"}},[r("span",[t._v("Truck Number Plate")])]),r("v-text-field",{staticClass:"ml-5 mr-5",attrs:{solo:"",outlined:"",type:"text"},model:{value:t.salesOrder.truckNo,callback:function(e){t.$set(t.salesOrder,"truckNo",e)},expression:"salesOrder.truckNo"}})],1),r("v-flex",{attrs:{xs12:"",md12:""}},[r("div",{staticStyle:{display:"flex","justify-content":"start","margin-left":"20px"}},[r("span",[t._v("Order Notes (Tailer Number,More Details)")])]),r("v-textarea",{staticClass:"ml-5 mr-5",attrs:{solo:"",outlined:"",type:"date"},model:{value:t.salesOrder.description,callback:function(e){t.$set(t.salesOrder,"description",e)},expression:"salesOrder.description"}})],1),r("v-flex",{attrs:{xs12:"",md12:""}},[r("v-data-table",{attrs:{headers:t.headers,items:t.lineItems,"hide-default-footer":""},scopedSlots:t._u([{key:"item.productName",fn:function(e){return[r("v-edit-dialog",{attrs:{"return-value":e.item.productName},on:{"update:returnValue":function(a){return t.$set(e.item,"productName",a)},"update:return-value":function(a){return t.$set(e.item,"productName",a)},save:function(a){return t.save(e.item)},cancel:t.cancel,open:t.open,close:t.close},scopedSlots:t._u([{key:"input",fn:function(){return[r("v-combobox",{attrs:{items:t.itemProducts,"item-text":"productName","item-value":"productId"},model:{value:e.item.productName,callback:function(a){t.$set(e.item,"productName",a)},expression:"props.item.productName"}})]},proxy:!0}],null,!0)},[t._v(" "+t._s(e.item.productName)+" ")])]}},{key:"item.price",fn:function(e){return[r("v-edit-dialog",{attrs:{"return-value":e.item.price},on:{"update:returnValue":function(a){return t.$set(e.item,"price",a)},"update:return-value":function(a){return t.$set(e.item,"price",a)},save:function(a){return t.save(e.item)},cancel:t.cancel,open:t.open,close:t.close},scopedSlots:t._u([{key:"input",fn:function(){return[r("v-text-field",{attrs:{rules:[t.max25chars],label:"Edit","single-line":"",counter:""},model:{value:e.item.price,callback:function(a){t.$set(e.item,"price",a)},expression:"props.item.price"}})]},proxy:!0}],null,!0)},[t._v(" "+t._s(e.item.price)+" ")])]}},{key:"item.quantity",fn:function(e){return[r("v-edit-dialog",{attrs:{"return-value":e.item.quantity},on:{"update:returnValue":function(a){return t.$set(e.item,"quantity",a)},"update:return-value":function(a){return t.$set(e.item,"quantity",a)},save:function(a){return t.save(e.item)},cancel:t.cancel,open:t.open,close:t.close},scopedSlots:t._u([{key:"input",fn:function(){return[r("v-text-field",{attrs:{rules:[t.max25chars],label:"Edit","single-line":"",counter:""},model:{value:e.item.quantity,callback:function(a){t.$set(e.item,"quantity",a)},expression:"props.item.quantity"}})]},proxy:!0}],null,!0)},[t._v(" "+t._s(e.item.quantity)+" ")])]}},{key:"item.linetotal",fn:function(e){var a=e.item;return[r("v-chip",{attrs:{color:"green",dark:""}},[t._v(" "+t._s(parseFloat(a.linetotal).toFixed(2))+" ")])]}},{key:"item.productSize",fn:function(e){var a=e.item;return[t._v(" "+t._s(a.productSize)+" KGs ")]}},{key:"item.actions",fn:function(e){var a=e.item;return[r("v-icon",{attrs:{small:"",color:"red"},on:{click:function(e){return t.deleteItem(a)}}},[t._v(" delete ")])]}}],null,!1,2264869398)}),r("v-snackbar",{attrs:{timeout:3e3,color:t.snackColor},scopedSlots:t._u([{key:"action",fn:function(e){var a=e.attrs;return[r("v-btn",t._b({attrs:{text:""},on:{click:function(e){t.snack=!1}}},"v-btn",a,!1),[t._v(" Close ")])]}}],null,!1,3090489768),model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v(" "+t._s(t.snackText)+" ")])],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("div",{staticStyle:{position:"absolute",bottom:"0",right:"0","margin-bottom":"20px"}},[r("h3",[t._v("Document Total : "+t._s(t.currency)+" "+t._s(parseFloat(t.salesOrder.docTotal).toFixed(2)))]),r("v-btn",{staticClass:"mr-5",attrs:{color:"green",dark:""},on:{click:t.addItem}},[r("v-icon",{attrs:{left:""}},[t._v(" add ")]),t._v(" Add Item ")],1),r("v-btn",{staticClass:"mr-5",attrs:{color:"red",dark:""},on:{click:t.clearForm}},[r("v-icon",{attrs:{left:""}},[t._v(" cancel_presentation ")]),t._v(" Clear ")],1),r("v-btn",{staticClass:"mr-5",attrs:{color:"blue",dark:""},on:{click:t.saveSalesOrder}},[r("v-icon",{attrs:{left:""}},[t._v(" post_add ")]),t._v(" Save ")],1)],1)],1)],1):t._e(),1==t.tab?r("v-card",{staticClass:"ma-5",attrs:{width:"900",height:"750"}},[r("v-toolbar",{attrs:{dark:"",color:"blue",flat:""}},[r("v-toolbar-title",[t._v("Sale Item Creation Form")]),r("v-spacer"),r("v-btn",{staticClass:"mr-5",attrs:{color:"green",dark:""},on:{click:function(e){t.dialogNewProduct=!0}}},[r("v-icon",{attrs:{left:""}},[t._v(" add ")]),t._v(" Add Item ")],1)],1),r("v-data-table",{attrs:{headers:t.headersProducts,items:t.products,search:t.search,"sort-by":"customerId"},scopedSlots:t._u([{key:"top",fn:function(){return[r("v-toolbar",{attrs:{flat:"",color:"white"}},[r("v-spacer"),r("v-text-field",{staticClass:"mt-5 mr-5",attrs:{dense:"","append-icon":"search",label:"Search",solo:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]},proxy:!0},{key:"item.actions",fn:function(e){var a=e.item;return[r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[r("v-icon",t._g(t._b({staticClass:"mr-2",attrs:{color:"blue"},on:{click:function(e){return t.editItem(a)}}},"v-icon",s,!1),i),[t._v(" edit ")])]}}],null,!0)},[r("span",[t._v("Edit User")])])]}},{key:"item.stock",fn:function(e){var a=e.item;return["1"==a.productCurrency?r("v-chip",{attrs:{color:"green",dark:""}},[t._v(" "+t._s(a.stock)+" Bags ")]):t._e(),"2"==a.productCurrency?r("v-chip",{attrs:{color:"orange",dark:""}},[t._v(" "+t._s(a.stock)+" Bags ")]):t._e()]}},{key:"no-data",fn:function(){return[r("h3",[t._v("No Records Found")])]},proxy:!0}],null,!1,4229920756)})],1):t._e(),2==t.tab?r("v-card",{staticClass:"ma-5",attrs:{width:"1100",height:"750"}},[r("v-toolbar",{attrs:{dark:"",color:"blue",flat:""}},[r("v-toolbar-title",[t._v("Sales Order List")]),r("v-spacer"),r("download-csv",{attrs:{data:t.salesOrdersData,fields:["salesOrderId","docDate","productName","customerName","currencyISO","quantity","docTotal","driverName","description"]}},[r("v-btn",{staticClass:"mr-5",attrs:{color:"red",dark:""}},[r("v-icon",{attrs:{left:""}},[t._v(" add ")]),t._v(" Export ")],1)],1)],1),r("v-data-table",{attrs:{"item-key":"salesOrderId","sort-desc":[!0],headers:t.headersSales,items:t.salesOrdersData,search:t.search,"sort-by":"salesOrderId"},scopedSlots:t._u([{key:"top",fn:function(){return[r("v-toolbar",{attrs:{flat:"",color:"white"}},[r("v-spacer"),r("v-btn",{staticClass:"mr-5",attrs:{color:"blue",dark:""},on:{click:t.salesToday}},[r("v-icon",{attrs:{left:""}},[t._v(" search ")]),t._v(" Today ")],1),r("v-btn",{staticClass:"mr-5",attrs:{color:"blue",dark:""},on:{click:function(e){t.dialogSpecific=!0}}},[r("v-icon",{attrs:{left:""}},[t._v(" search ")]),t._v(" Specfic Date ")],1)],1)]},proxy:!0},{key:"item.docTotal",fn:function(e){var a=e.item;return["1"==a.docCurrency?r("v-chip",{attrs:{color:"green",dark:""}},[t._v(" USD "+t._s(a.docTotal)+" ")]):t._e(),"2"==a.docCurrency?r("v-chip",{attrs:{color:"orange",dark:""}},[t._v(" ZWL "+t._s(a.docTotal)+" ")]):t._e()]}},{key:"item.actions",fn:function(e){var a=e.item;return[0!=a.status?r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[r("v-icon",t._g(t._b({staticClass:"mr-2",attrs:{color:"red"},on:{click:function(e){return t.deleteItem1(a)}}},"v-icon",s,!1),i),[t._v(" delete ")])]}}],null,!0)},[r("span",[t._v("Delete")])]):t._e()]}},{key:"no-data",fn:function(){return[r("h3",[t._v("No Records Found")])]},proxy:!0}],null,!1,1327731868)})],1):t._e()],1),r("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.dialogNewProduct,callback:function(e){t.dialogNewProduct=e},expression:"dialogNewProduct"}},[r("v-card",[r("v-card-title",{staticClass:"headline blue lighten-2 white--text",attrs:{"primary-title":""}},[r("span",{staticClass:"headline"},[t._v("Create New Product From")]),r("v-spacer"),r("v-btn-toggle",{attrs:{color:"blue","background-color":"white"},model:{value:t.productDetails.productCurrency,callback:function(e){t.$set(t.productDetails,"productCurrency",e)},expression:"productDetails.productCurrency"}},[r("v-btn",{attrs:{value:"1"}},[t._v(" USD ")]),r("v-btn",{attrs:{value:"2"}},[t._v(" ZWL ")])],1)],1),r("v-card-text",[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[r("v-text-field",{attrs:{label:"Product Name",solo:"",outlined:""},model:{value:t.productDetails.productName,callback:function(e){t.$set(t.productDetails,"productName",e)},expression:"productDetails.productName"}})],1),r("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[r("v-text-field",{attrs:{label:"Product Package Size (KGs)",solo:"",outlined:""},model:{value:t.productDetails.productSize,callback:function(e){t.$set(t.productDetails,"productSize",e)},expression:"productDetails.productSize"}})],1),r("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[r("v-text-field",{attrs:{label:"Stock",solo:"",outlined:""},model:{value:t.productDetails.stock,callback:function(e){t.$set(t.productDetails,"stock",e)},expression:"productDetails.stock"}})],1)],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"red darken-1",dark:""},on:{click:function(e){t.dialogNewProduct=!1}}},[t._v("Cancel")]),r("v-btn",{attrs:{color:"blue darken-1",dark:""},on:{click:t.saveProduct}},[t._v("Save")])],1)],1)],1),r("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.dialogNewProduct2,callback:function(e){t.dialogNewProduct2=e},expression:"dialogNewProduct2"}},[r("v-card",[r("v-card-title",{staticClass:"headline red lighten-2 white--text",attrs:{"primary-title":""}},[r("span",{staticClass:"headline"},[t._v("Edit New Product From")]),r("v-spacer"),r("v-btn-toggle",{attrs:{color:"blue","background-color":"white"},model:{value:t.productCurrency,callback:function(e){t.productCurrency=e},expression:"productCurrency"}},[r("v-btn",{attrs:{value:"1"}},[t._v(" USD ")]),r("v-btn",{attrs:{value:"2"}},[t._v(" ZWL ")])],1)],1),r("v-card-text",[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[r("v-text-field",{attrs:{label:"Product Name",outlined:""},model:{value:t.productName,callback:function(e){t.productName=e},expression:"productName"}})],1),r("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[r("v-text-field",{attrs:{label:"Product Package Size (KGs)",outlined:""},model:{value:t.productSize,callback:function(e){t.productSize=e},expression:"productSize"}})],1),r("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[r("v-text-field",{attrs:{label:"Stock",outlined:""},model:{value:t.stock,callback:function(e){t.stock=e},expression:"stock"}})],1)],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"red darken-1",dark:""},on:{click:function(e){t.dialogNewProduct2=!1}}},[t._v("Cancel")]),r("v-btn",{attrs:{color:"blue darken-1",dark:""},on:{click:t.saveProductUpdate}},[t._v("Save")])],1)],1)],1),r("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.dialogSpecific,callback:function(e){t.dialogSpecific=e},expression:"dialogSpecific"}},[r("v-card",[r("v-card-title",{staticClass:"headline red lighten-2 white--text",attrs:{"primary-title":""}},[r("span",{staticClass:"headline"},[t._v("Search Sales by Date")]),r("v-spacer")],1),r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[r("v-text-field",{attrs:{type:"date",solo:"",outlined:""},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}})],1),r("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[r("v-text-field",{attrs:{type:"date",solo:"",outlined:""},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"red darken-1",dark:""},on:{click:function(e){t.dialogSpecific=!1}}},[t._v("Cancel")]),r("v-btn",{attrs:{color:"blue darken-1",dark:""},on:{click:t.salesSpecific}},[t._v("Save")])],1)],1)],1),r("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[t._v("Are you sure you want to delete this item?")]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.closeDelete}},[t._v("Cancel")]),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.deleteItemConfirm}},[t._v("OK")]),r("v-spacer")],1)],1)],1),r("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogDelete1,callback:function(e){t.dialogDelete1=e},expression:"dialogDelete1"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[t._v("Are you sure you want to delete this item?")]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialogDelete1=!1}}},[t._v("Cancel")]),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.deleteItemConfirm1}},[t._v("OK")]),r("v-spacer")],1)],1)],1),r("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.dialogloader,callback:function(e){t.dialogloader=e},expression:"dialogloader"}},[r("v-card",{attrs:{color:"#003263",dark:""}},[r("v-card-text",[r("br"),r("h3",[t._v("Please stand by")]),r("br"),r("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}}),r("br")],1)],1)],1),r("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.dialogPrint,callback:function(e){t.dialogPrint=e},expression:"dialogPrint"}},[r("v-card",[r("v-toolbar",{staticClass:"no-print",attrs:{dark:"",color:"primary"}},[r("v-toolbar-title",[t._v("Sales Invoice Preview")]),r("v-spacer"),r("v-toolbar-items",[r("v-btn",{attrs:{dark:"",text:""},on:{click:t.printPage}},[t._v(" Close ")])],1)],1),r("br"),r("br"),r("v-card-text",[r("div",{staticClass:"invoice-box",attrs:{id:"invoiceR"}},[r("table",{attrs:{cellpadding:"0",cellspacing:"0"}},[r("tr",{staticClass:"top"},[r("td",{attrs:{colspan:"5"}},[r("table",[r("tr",[r("td",{staticClass:"title"},[r("img",{staticStyle:{width:"100%","max-width":"200px"},attrs:{src:a("733b")}})]),r("td",[t._v(" Invoice #: "+t._s(t.invoiceNumner)),r("br"),t._v(" Date: "+t._s(t.invoiceDate)),r("br")])])])])]),r("tr",{staticClass:"information"},[r("td",{attrs:{colspan:"5"}},[r("table",[r("tr",[r("td",[t._v(" 380 simon mazarodze"),r("br"),t._v(" road zimbabwe"),r("br"),t._v(" Zimbabwe ")]),r("td",[t._v(" "+t._s(t.customerName)),r("br"),t._v(" "+t._s(t.customerAddress)),r("br"),t._v(" "+t._s(t.customerEmail)+" ")])])])])]),r("tr",{staticClass:"heading"},[r("td",[t._v(" Item ")]),r("td",{staticStyle:{"text-align":"right"}},[t._v(" Quantity ")]),r("td",{staticStyle:{"text-align":"right"}},[t._v(" Bag Size ")]),r("td",{staticStyle:{"text-align":"right"}},[t._v(" Unit Price ")]),r("td",{staticStyle:{"text-align":"right"}},[t._v(" Total Price ")])]),t._l(t.lineItemsData,(function(e,a){return r("tr",{key:a,staticClass:"item"},[r("td",[t._v(" "+t._s(e.productName)+" ")]),r("td",{staticStyle:{"text-align":"right"}},[t._v(" "+t._s(e.quantity)+" Bags ")]),r("td",{staticStyle:{"text-align":"right"}},[t._v(" "+t._s(e.productSize)+" KGs ")]),r("td",{staticStyle:{"text-align":"right"}},[t._v(" $ "+t._s(parseFloat(e.price).toFixed(2))+" ")]),r("td",{staticStyle:{"text-align":"right"}},[t._v(" $ "+t._s(parseFloat(e.linetotal).toFixed(2))+" ")])])})),r("br"),r("br"),r("br"),r("br"),r("br"),r("br"),r("tr",{staticClass:"total"},[r("td",{staticStyle:{"text-align":"left"}},[r("b",[t._v("Description")]),r("br"),t._v(" "+t._s(t.description)+" ")]),r("td"),r("td"),r("td"),r("td")]),r("br"),r("br"),r("tr",{staticClass:"total"},[r("td",[t._v(" Company Stamp ")]),r("td"),r("td"),r("td"),r("td",{staticStyle:{"text-align":"right"}},[t._v(" Total: $"+t._s(parseFloat(t.invoiceTotal).toFixed(2))+" ")])])],2)])])],1)],1)],1)},xt=[],yt=(a("a4d3"),a("e01a"),a("99af"),a("4de4"),a("7db0"),a("c975"),a("a434"),a("25f0"),{data:function(){return{lineItemsData:[],customerAddress:"",customerEmail:"",customerName:"",invoiceNumner:"",invoiceTotal:0,invoiceDate:"",dialogPrint:"",startDate:"",endDate:"",dialogSpecific:!1,dialogloader:!1,dialogNewProduct:!1,dialogNewProduct2:!1,dialogDelete:!1,dialogDelete1:!1,currency:"USD",nodeApi:"",selectedCustomer:"",tab:0,items:["Sales Orders","Sales Items","Sales Reports"],search:"",drivers:[],pagination:{itemsPerPage:15},productDetails:{productCurrency:"1",productName:"",productSize:"",productPrice:"",stock:""},salesOrder:{customerId:"",docDate:"",docCurrency:"",description:"",itemData:[],docTotal:0,quantity:0,productId:0,productSize:0},description:"",customers:[],snack:!1,snackColor:"",snackText:"",max25chars:function(t){return t.length<=25||"Input too long!"},headersProducts:[{text:"Product ID",align:"start",sortable:!1,value:"productId"},{text:"Product Name",align:"start",sortable:!1,value:"productName"},{text:"Product Szie (KGs)",align:"start",sortable:!1,value:"productSize"},{text:"Stock (Bags)",align:"start",sortable:!1,value:"stock"},{text:"Actions",value:"actions"}],headers:[{text:"Product ID",align:"start",sortable:!1,value:"productId"},{text:"Product Name",align:"start",sortable:!1,value:"productName"},{text:"Quantity",value:"quantity"},{text:"Size",value:"productSize"},{text:"Unit Price",value:"price"},{text:"Line Total",value:"linetotal"},{text:"Actions",value:"actions"}],headersSales:[{text:"SalesOrder ID",align:"start",sortable:!1,value:"salesOrderId"},{text:"Sales Date",align:"start",sortable:!1,value:"docDate"},{text:"Product Name",align:"start",sortable:!1,value:"productName"},{text:"Customer Name",align:"start",sortable:!1,value:"customerName"},{text:"Sales Total",align:"start",sortable:!1,value:"docTotal"},{text:"Sales Weight (Bags)",align:"start",sortable:!1,value:"quantity"},{text:"Delivery Driver",align:"start",sortable:!1,value:"driverName"},{text:"Actions",value:"actions"}],lineItems:[],editedIndex:-1,products:[],productName:"",productCurrency:"",productSize:"",productPrice:"",stock:"",productId:"",itemProducts:[],docCurrency:"1",salesOrdersData:[],quantity:0,customerDetails:[],selectedProductStock:0}},mounted:function(){this.initialize(),this.getProducts(),this.getAllOrders(),this.getDrivers();var t=new Date,e=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate();this.salesOrder.docDate=e},watch:{docCurrency:function(t){var e=t;this.salesOrder.docCurrency=e,"1"==t&&(this.currency="USD",this.salesOrder.docCurrency=e),"2"==t&&(this.currency="ZWL",this.salesOrder.docCurrency=e),this.clearForm();var a=new Date,r=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate();this.salesOrder.docDate=r,this.getProducts()},dialogNewProduct:function(t){t&&(this.productDetails={productCurrency:"1",productName:"",productSize:"",stock:""})},dialogNewProduct2:function(t){t&&(this.productDetails={productCurrency:"1",productName:"",stock:"",productPrice:""})}},methods:{printPage:function(){this.dialogPrint=!1},editItem:function(t){this.productDetails=Object.assign({},t),this.productName=t.productName,this.productCurrency=t.productCurrency.toString(),this.productSize=t.productSize,this.productPrice=t.productPrice,this.productId=t.productId,this.stock=t.stock,this.dialogNewProduct2=!0},saveProductUpdate:function(){var t=this;this.productName?this.productSize?isNaN(this.productSize)?this.$swal.fire({type:"error",title:"Updating Product Failed",text:"Please enter a valid Product size (it has to be a number)"}):isNaN(this.stock)?this.$swal.fire({type:"error",title:"Updating Product Failed",text:"Please enter a valid Product stock (it has to be a number)"}):(this.dialogloader=!0,this.productDetails.productCurrency=this.productCurrency,this.productDetails.productName=this.productName,this.productDetails.productSize=this.productSize,this.productDetails.stock=this.stock,this.productDetails.productId=this.productId,this.productDetails.createdBy=this.$session.get("user").userId,this.axios.post(this.nodeApi+"/updateProduct",this.productDetails).then((function(e){e.data.affectedRows>0?(t.getProducts(),t.dialogNewProduct2=!1,t.dialogloader=!1,t.$swal.fire({type:"success",title:"Product Updated",text:"You have successfully updated a product"})):t.$swal.fire({type:"error",title:"Updating Product Failed",text:e.data.originalError.info.message})})).catch((function(e){t.$swal.fire({type:"error",title:"Updating Product Failed",text:e})}))):this.$swal.fire({type:"error",title:"Updating Product Failed",text:"Please enter a valid Product package size."}):this.$swal.fire({type:"error",title:"Updating Product Failed",text:"Please enter a valid Product Name."})},saveProduct:function(){var t=this;this.productDetails.productName?this.productDetails.productSize?isNaN(this.productDetails.productSize)?this.$swal.fire({type:"error",title:"Adding Product Failed",text:"Please enter a valid Product size (it has to be a number)"}):isNaN(this.productDetails.stock)?this.$swal.fire({type:"error",title:"Adding Product Failed",text:"Please enter a valid Product stock (it has to be a number)"}):(this.dialogloader=!0,this.productDetails.createdBy=this.$session.get("user").userId,this.axios.post(this.nodeApi+"/addProduct",this.productDetails).then((function(e){e.data.affectedRows>0?(t.getProducts(),t.dialogNewProduct=!1,t.dialogloader=!1,t.$swal.fire({type:"success",title:"Product Added",text:"You have successfully added a new product"})):(t.dialogloader=!1,t.$swal.fire({type:"error",title:"Adding Product Failed",text:e.data.originalError.info.message}))})).catch((function(e){t.dialogloader=!1,t.$swal.fire({type:"error",title:"Adding Supplier Failed",text:e})}))):this.$swal.fire({type:"error",title:"Adding Product Failed",text:"Please enter a valid Product package size."}):this.$swal.fire({type:"error",title:"Adding Product Failed",text:"Please enter a valid Product Name."})},addItem:function(){this.lineItems.push({productId:"1",productName:"Click to Edit",quantity:1,price:0,linetotal:0})},clearForm:function(){this.salesOrder={customerId:"",docDate:"",docCurrency:"1",description:"",productId:0,productSize:0,quantity:0,itemData:[],docTotal:0},this.lineItems=[];var t=new Date,e=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate();this.salesOrder.docDate=e},closeDelete:function(){var t=this;this.dialogDelete=!1,this.dialogDelete1=!1,this.$nextTick((function(){t.editedIndex=-1}))},deleteItem:function(t){this.editedIndex=this.lineItems.indexOf(t),this.dialogDelete=!0},deleteItemConfirm:function(){var t=this;this.lineItems.splice(this.editedIndex,1),this.salesOrder.docTotal=0,this.lineItems.forEach((function(e){t.salesOrder.docTotal+=e.linetotal})),this.closeDelete()},deleteItem1:function(t){this.editedIndex=this.salesOrdersData.indexOf(t),this.salesOrderId=t.salesOrderId,this.dialogDelete1=!0},deleteItemConfirm1:function(){var t=this;this.salesOrdersData.splice(this.editedIndex,1),this.axios.post(this.nodeApi+"/removeSalesList",{salesOrderId:this.salesOrderId}).then((function(e){e.data.affectedRows>0?(t.$swal.fire({type:"success",title:"Sales Deleted successfully",text:"You have successfully added a new sales order"}),t.closeDelete()):t.$swal.fire({type:"error",title:"Sales Deleting Failed",text:e.data.originalError.info.message})})).catch((function(e){t.$swal.fire({type:"error",title:"Item Deleting Failed",text:e})}))},getAllOrders:function(){var t=this;this.axios.get(this.nodeApi+"/getAllSalesOrders").then((function(e){t.salesOrdersData=e.data})).catch((function(t){console.log(t)}))},getProducts:function(){var t=this;this.axios.get(this.nodeApi+"/getAllProducts").then((function(e){t.products=e.data,t.itemProducts=[],t.products.forEach((function(e){e.productCurrency==t.docCurrency&&t.itemProducts.push(e.productName)}))})).catch((function(t){console.log(t)}))},initialize:function(){var t=this;this.axios.get(this.nodeApi+"/getAllCustomers").then((function(e){t.customers=e.data})).catch((function(t){console.log(t)}))},salesToday:function(){var t=this;this.axios.get(this.nodeApi+"/getAllSalesOrdersToday").then((function(e){t.salesOrdersData=e.data})).catch((function(t){console.log(t)}))},salesSpecific:function(){var t=this;this.axios.post(this.nodeApi+"/getAllSalesOrdersSpecific",{startDate:this.startDate,endDate:this.endDate}).then((function(e){t.salesOrdersData=e.data,t.dialogSpecific=!1})).catch((function(t){console.log(t)}))},getDrivers:function(){var t=this;this.axios.get(this.nodeApi+"/getAllDrivers").then((function(e){t.drivers=e.data})).catch((function(t){console.log(t)}))},save:function(t){var e=this;this.salesOrder.quantity=0,this.salesOrder.docTotal=0;var a=this.products.find((function(e){var a=e.productName;return a===t.productName})),r=this.lineItems.indexOf(t);this.selectedProductStock=a.stock,t.productName==a.productName?(this.lineItems[r].productId=a.productId,this.lineItems[r].price=t.price,this.lineItems[r].productSize=a.productSize,this.lineItems[r].linetotal=t.price*t.quantity,this.lineItems.forEach((function(t){e.salesOrder.docTotal+=t.linetotal})),this.lineItems.forEach((function(t){e.salesOrder.quantity+=t.quantity})),this.lineItems.forEach((function(t){e.salesOrder.productId=t.productId})),this.lineItems.forEach((function(t){e.salesOrder.productSize=t.productSize}))):console.log("Data Mismatch"),this.snack=!0,this.snackColor="success",this.snackText="Data saved"},cancel:function(){this.snack=!0,this.snackColor="error",this.snackText="Canceled"},open:function(){this.snack=!0,this.snackColor="info",this.snackText="Dialog opened"},close:function(){console.log("Dialog closed")},saveSalesOrder:function(){var t=this;this.lineItems.length>1?this.$swal.fire({type:"error",title:"Adding Sales Order Failed",text:"Please only enter one line sales item per order."}):this.salesOrder.quantity>this.selectedProductStock?this.$swal.fire({type:"error",title:"Adding Sales Order Failed",text:"Sorry you do not have enough stock for this order."}):(this.lineItemsData=this.lineItems,this.dialogloader=!0,this.salesOrder.itemData=JSON.stringify(this.lineItems),this.salesOrder.docCurrency=this.docCurrency,this.salesOrder.createdBy=this.$session.get("user").userId,this.axios.post(this.nodeApi+"/addSalesOrder",this.salesOrder).then((function(e){if(e.data.length>0){t.$swal.fire({type:"success",title:"Sales Order Added",text:"You have successfully added a new sales order"}),t.dialogloader=!1,t.dialogPrint=!0,t.invoiceNumner=e.data[1].insertId,t.description=t.salesOrder.description;var a=t.salesOrder.customerId;console.log(t.lineItems);var r=t.customers.filter((function(t){if(t.customerId==a)return!0}));t.customerDetails=r,t.customerAddress=t.customerDetails[0].customerAddress,t.customerName=t.customerDetails[0].customerName,t.customerEmail=t.customerDetails[0].customerEmail,t.invoiceTotal=t.salesOrder.docTotal;var i=new Date(Date.now()),s=""+(i.getMonth()+1),o=""+i.getDate(),l=i.getFullYear();t.invoiceDate="".concat(o,"-").concat(s,"-").concat(l),t.clearForm(),t.getAllOrders(),t.getProducts()}else t.dialogloader=!1,t.$swal.fire({type:"error",title:"Adding Sales Order Failed",text:e.data.originalError.info.message})})).catch((function(e){t.dialogloader=!1,t.$swal.fire({type:"error",title:"Adding Sales Order Failed",text:e})})))}}}),bt=yt,_t=(a("31b7"),a("c6a6")),Dt=a("62ad"),kt=a("2b5d"),wt=a("a523"),St=a("8fea"),Ct=a("169a"),Nt=a("7679"),It=a("132d"),Pt=a("8e36"),At=a("0fd9"),Tt=a("2db4"),Ft=a("71a3"),$t=a("fe57"),Ot=a("8654"),Vt=a("a844"),Ut=a("71d9"),Et=a("3a2f"),zt=Object(o["a"])(bt,gt,xt,!1,null,"ee1c9cc2",null),Rt=zt.exports;n()(zt,{VAppBar:ut["a"],VAutocomplete:_t["a"],VBtn:vt["a"],VBtnToggle:pt["a"],VCard:N["a"],VCardActions:I["a"],VCardText:I["c"],VCardTitle:I["d"],VChip:J["a"],VCol:Dt["a"],VCombobox:kt["a"],VContainer:wt["a"],VDataTable:St["a"],VDialog:Ct["a"],VEditDialog:Nt["a"],VFlex:A["a"],VIcon:It["a"],VImg:T["a"],VLayout:F["a"],VProgressLinear:Pt["a"],VRow:At["a"],VSnackbar:Tt["a"],VSpacer:$["a"],VTab:Ft["a"],VTabs:$t["a"],VTextField:Ot["a"],VTextarea:Vt["a"],VToolbar:Ut["a"],VToolbarItems:mt["a"],VToolbarTitle:mt["b"],VTooltip:Et["a"]});var Mt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-app-bar",{attrs:{color:"#003263",dark:"",src:a("d7c3")},scopedSlots:t._u([{key:"img",fn:function(e){var a=e.props;return[r("v-img",t._b({attrs:{gradient:"to top right, rgb(1,48,98,.9), rgb(22,61,99,.8)"}},"v-img",a,!1))]}},{key:"extension",fn:function(){return[r("v-tabs",{attrs:{right:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.items,(function(e){return r("v-tab",{key:e},[t._v(" "+t._s(e)+" ")])})),1)]},proxy:!0}])},[r("div",[r("img",{staticClass:"bounceIn",staticStyle:{"margin-top":"50px"},attrs:{src:a("118f"),width:"150"}})]),r("v-spacer"),r("v-toolbar-title",[t._v("Accounts Management")])],1),r("div",{staticStyle:{"background-color":"#EBEFF3",height:"88vh","overflow-y":"auto",display:"flex","justify-content":"center"}},[r("br"),0==t.tab?r("v-card",{staticClass:"ma-5",attrs:{width:"1000",height:"750"}},[r("v-toolbar",{attrs:{dark:"",color:"red",flat:""}},[r("v-toolbar-title",[t._v("Journal Expence List")]),r("v-spacer"),r("v-btn",{staticClass:"mr-5",attrs:{color:"blue",dark:""},on:{click:function(e){t.dialogNewProduct=!0}}},[r("v-icon",{attrs:{left:""}},[t._v(" add ")]),t._v(" Add Item ")],1),r("v-btn",{staticClass:"mr-5",attrs:{color:"orange",dark:""},on:{click:function(e){t.dialogNewProduct2=!0}}},[r("v-icon",{attrs:{left:""}},[t._v(" add ")]),t._v(" Add Expense Item ")],1),r("download-csv",{attrs:{data:t.products,fields:["id","docDate","description","credit"]}},[r("v-btn",{staticClass:"mr-5",attrs:{color:"green",dark:""}},[r("v-icon",{attrs:{left:""}},[t._v(" add ")]),t._v(" Export ")],1)],1)],1),r("v-data-table",{attrs:{headers:t.headersProducts,items:t.products,search:t.search,"sort-by":"id","sort-desc":""},scopedSlots:t._u([{key:"top",fn:function(){return[r("v-toolbar",{attrs:{flat:"",color:"white"}},[r("v-spacer"),r("v-btn",{staticClass:"mr-5",attrs:{color:"blue",dark:""},on:{click:t.journalsToday}},[r("v-icon",{attrs:{left:""}},[t._v(" search ")]),t._v(" Today ")],1),r("v-btn",{staticClass:"mr-5",attrs:{color:"blue",dark:""},on:{click:function(e){t.dialogSpecific=!0}}},[r("v-icon",{attrs:{left:""}},[t._v(" search ")]),t._v(" Specfic Date ")],1)],1)]},proxy:!0},{key:"item.credit",fn:function(e){var a=e.item;return["1"==a.currency?r("v-chip",{attrs:{color:"green",dark:""}},[t._v(" USD "+t._s(parseFloat(a.credit).toFixed(2))+" ")]):t._e(),"2"==a.currency?r("v-chip",{attrs:{color:"orange",dark:""}},[t._v(" ZWL "+t._s(parseFloat(a.credit).toFixed(2))+" ")]):t._e()]}},{key:"item.actions",fn:function(e){var a=e.item;return[0!=a.status?r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[r("v-icon",t._g(t._b({staticClass:"mr-2",attrs:{color:"red"},on:{click:function(e){return t.deleteItem(a)}}},"v-icon",s,!1),i),[t._v(" delete ")])]}}],null,!0)},[r("span",[t._v("Delete")])]):t._e()]}},{key:"no-data",fn:function(){return[r("h3",[t._v("No Records Found")])]},proxy:!0}],null,!1,3604770288)})],1):t._e(),1==t.tab?r("v-card",{staticClass:"ma-5",attrs:{width:"1100",height:"750"}},[r("v-toolbar",{attrs:{dark:"",color:"green",flat:""}},[r("v-toolbar-title",[t._v("All income and expenses report")]),r("v-spacer"),r("download-csv",{attrs:{data:t.ledgerDara,fields:["id","docDate","description","debit","credit"]}},[r("v-btn",{staticClass:"mr-5",attrs:{color:"red",dark:""}},[r("v-icon",{attrs:{left:""}},[t._v(" add ")]),t._v(" Export ")],1)],1),r("v-btn",{staticClass:"mr-5",attrs:{color:"blue",dark:""},on:{click:t.printStatement}},[r("v-icon",{attrs:{left:""}},[t._v(" add ")]),t._v(" Print Statement ")],1),r("v-btn",{staticClass:"mr-5",attrs:{color:"blue",dark:""},on:{click:t.printStatementFull}},[r("v-icon",{attrs:{left:""}},[t._v(" add ")]),t._v(" Print Full Statement ")],1)],1),r("v-data-table",{attrs:{headers:t.headersAccount,items:t.ledgerDara,search:t.search,"sort-by":"id","sort-desc":""},scopedSlots:t._u([{key:"top",fn:function(){return[r("v-toolbar",{attrs:{flat:"",color:"white"}},[r("v-spacer"),r("v-btn",{staticClass:"mr-5",attrs:{color:"blue",dark:""},on:{click:t.getLedgerDataToday}},[r("v-icon",{attrs:{left:""}},[t._v(" search ")]),t._v(" Today ")],1),r("v-btn",{staticClass:"mr-5",attrs:{color:"blue",dark:""},on:{click:function(e){t.dialogSpecific2=!0}}},[r("v-icon",{attrs:{left:""}},[t._v(" search ")]),t._v(" Specfic Date ")],1),r("v-btn-toggle",{attrs:{color:"blue","background-color":"white"},model:{value:t.statementDocCurrency,callback:function(e){t.statementDocCurrency=e},expression:"statementDocCurrency"}},[r("v-btn",{attrs:{value:"1"}},[t._v(" USD ")]),r("v-btn",{attrs:{value:"2"}},[t._v(" ZWL ")])],1)],1)]},proxy:!0},{key:"item.credit",fn:function(e){var a=e.item;return["1"==a.currency?r("v-chip",{attrs:{color:"red",dark:""}},[t._v(" USD "+t._s(parseFloat(a.credit).toFixed(2))+" ")]):t._e(),"2"==a.currency?r("v-chip",{attrs:{color:"orange",dark:""}},[t._v(" ZWL "+t._s(parseFloat(a.credit).toFixed(2))+" ")]):t._e()]}},{key:"item.debit",fn:function(e){var a=e.item;return["1"==a.currency?r("v-chip",{attrs:{color:"green",dark:""}},[t._v(" USD "+t._s(parseFloat(a.debit).toFixed(2))+" ")]):t._e(),"2"==a.currency?r("v-chip",{attrs:{color:"purple",dark:""}},[t._v(" ZWL "+t._s(parseFloat(a.debit).toFixed(2))+" ")]):t._e()]}},{key:"item.actions",fn:function(e){var a=e.item;return[0!=a.status?r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[r("v-icon",t._g(t._b({staticClass:"mr-2",attrs:{color:"red"},on:{click:function(e){return t.deleteItem2(a)}}},"v-icon",s,!1),i),[t._v(" delete ")])]}}],null,!0)},[r("span",[t._v("Delete")])]):t._e()]}},{key:"no-data",fn:function(){return[r("h3",[t._v("No Records Found")])]},proxy:!0}],null,!1,525954750)})],1):t._e()],1),r("v-dialog",{attrs:{"max-width":"750px"},model:{value:t.dialogNewProduct,callback:function(e){t.dialogNewProduct=e},expression:"dialogNewProduct"}},[r("v-card",[r("v-card-title",{staticClass:"headline blue lighten-2 white--text",attrs:{"primary-title":""}},[r("span",{staticClass:"headline"},[t._v("Create New Expense Journal")]),r("v-spacer"),r("v-btn-toggle",{attrs:{color:"blue","background-color":"white"},model:{value:t.deliverNote.docCurrency,callback:function(e){t.$set(t.deliverNote,"docCurrency",e)},expression:"deliverNote.docCurrency"}},[r("v-btn",{attrs:{value:"1"}},[t._v(" USD ")]),r("v-btn",{attrs:{value:"2"}},[t._v(" ZWL ")])],1)],1),r("v-card-text",[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[r("div",{staticStyle:{display:"flex","justify-content":"start"}},[r("span",[t._v("Journal Date")])]),r("v-text-field",{attrs:{solo:"",outlined:"",type:"date"},model:{value:t.deliverNote.docDate,callback:function(e){t.$set(t.deliverNote,"docDate",e)},expression:"deliverNote.docDate"}})],1),r("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[r("div",{staticStyle:{display:"flex","justify-content":"start"}},[r("span",[t._v("Expense Name")])]),r("v-autocomplete",{attrs:{"item-text":"expenseName","item-value":"expenseName",items:t.customers,solo:"",outlined:""},model:{value:t.deliverNote.expenseName,callback:function(e){t.$set(t.deliverNote,"expenseName",e)},expression:"deliverNote.expenseName"}})],1),r("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[r("v-text-field",{attrs:{label:"Expense Amount",solo:"",outlined:""},model:{value:t.deliverNote.cost,callback:function(e){t.$set(t.deliverNote,"cost",e)},expression:"deliverNote.cost"}})],1)],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"red darken-1",dark:""},on:{click:function(e){t.dialogNewProduct=!1}}},[t._v("Cancel")]),r("v-btn",{attrs:{color:"blue darken-1",dark:""},on:{click:t.saveProduct}},[t._v("Save")])],1)],1)],1),r("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.dialogNewProduct2,callback:function(e){t.dialogNewProduct2=e},expression:"dialogNewProduct2"}},[r("v-card",[r("v-card-title",{staticClass:"headline red lighten-2 white--text",attrs:{"primary-title":""}},[r("span",{staticClass:"headline"},[t._v("New Expense Item")]),r("v-spacer")],1),r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[r("v-text-field",{attrs:{label:"Expense Name",solo:"",outlined:""},model:{value:t.expenseName,callback:function(e){t.expenseName=e},expression:"expenseName"}})],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"red darken-1",dark:""},on:{click:function(e){t.dialogNewProduct2=!1}}},[t._v("Cancel")]),r("v-btn",{attrs:{color:"blue darken-1",dark:""},on:{click:t.saveProductUpdate}},[t._v("Save")])],1)],1)],1),r("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.dialogSpecific,callback:function(e){t.dialogSpecific=e},expression:"dialogSpecific"}},[r("v-card",[r("v-card-title",{staticClass:"headline red lighten-2 white--text",attrs:{"primary-title":""}},[r("span",{staticClass:"headline"},[t._v("Search Journal by Date")]),r("v-spacer")],1),r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[r("v-text-field",{attrs:{type:"date",solo:"",outlined:""},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}})],1),r("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[r("v-text-field",{attrs:{type:"date",solo:"",outlined:""},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"red darken-1",dark:""},on:{click:function(e){t.dialogSpecific=!1}}},[t._v("Cancel")]),r("v-btn",{attrs:{color:"blue darken-1",dark:""},on:{click:t.journalsSpecific}},[t._v("Save")])],1)],1)],1),r("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.dialogSpecific2,callback:function(e){t.dialogSpecific2=e},expression:"dialogSpecific2"}},[r("v-card",[r("v-card-title",{staticClass:"headline red lighten-2 white--text",attrs:{"primary-title":""}},[r("span",{staticClass:"headline"},[t._v("Search Income/Expense by Date")]),r("v-spacer")],1),r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[r("v-text-field",{attrs:{type:"date",solo:"",outlined:""},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}})],1),r("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[r("v-text-field",{attrs:{type:"date",solo:"",outlined:""},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"red darken-1",dark:""},on:{click:function(e){t.dialogSpecific2=!1}}},[t._v("Cancel")]),r("v-btn",{attrs:{color:"blue darken-1",dark:""},on:{click:t.getLedgerDataSpecific}},[t._v("Save")])],1)],1)],1),r("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[t._v("Are you sure you want to delete this item?")]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.closeDelete}},[t._v("Cancel")]),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.deleteItemConfirm}},[t._v("OK")]),r("v-spacer")],1)],1)],1),r("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogDelete2,callback:function(e){t.dialogDelete2=e},expression:"dialogDelete2"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[t._v("Are you sure you want to delete this item?")]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.closeDelete}},[t._v("Cancel")]),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.deleteItemConfirm2}},[t._v("OK")]),r("v-spacer")],1)],1)],1),r("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.dialogloader,callback:function(e){t.dialogloader=e},expression:"dialogloader"}},[r("v-card",{attrs:{color:"#003263",dark:""}},[r("v-card-text",[r("br"),r("h3",[t._v("Please stand by")]),r("br"),r("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}}),r("br")],1)],1)],1),r("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.dialogPrint,callback:function(e){t.dialogPrint=e},expression:"dialogPrint"}},[r("v-card",[r("v-toolbar",{staticClass:"no-print",attrs:{dark:"",color:"primary"}},[r("v-toolbar-title",[t._v("Income and Expenditure Full Statement")]),r("v-spacer"),r("v-toolbar-items",[r("v-btn",{attrs:{dark:"",text:""},on:{click:function(e){t.dialogPrint=!1}}},[t._v(" Close ")])],1)],1),r("br"),r("br"),r("v-card-text",[r("div",{staticClass:"invoice-box",attrs:{id:"invoiceR"}},[r("table",{attrs:{cellpadding:"0",cellspacing:"0"}},[r("tr",{staticClass:"top"},[r("td",{attrs:{colspan:"5"}},[r("table",[r("tr",[r("td",{staticClass:"title"},[r("img",{staticStyle:{width:"100%","max-width":"200px"},attrs:{src:a("733b")}})]),r("td",[t._v(" From Date : "+t._s(t.statement.fromDate)),r("br"),t._v(" To Date: "+t._s(t.statement.toDate)),r("br")])])])])]),r("tr",{staticClass:"information"},[r("td",{attrs:{colspan:"5"}},[r("table",[r("tr",[r("td",[t._v(" 380 simon mazarodze"),r("br"),t._v(" road zimbabwe"),r("br"),t._v(" Zimbabwe ")]),r("td",[t._v(" Internal Report"),r("br"),t._v(" Income & Expenditure Summary"),r("br"),"1"==t.statement.docCurrency?r("span",[t._v("Currency : "),r("b",[t._v("USD")])]):t._e(),"2"==t.statement.docCurrency?r("span",[t._v("Currency : "),r("b",[t._v("ZWL")])]):t._e()])])])])]),r("tr",{staticClass:"heading"},[r("td",[r("b",[t._v("Income Items")])]),r("td",{staticStyle:{"text-align":"right"}}),r("td",{staticStyle:{"text-align":"right"}}),r("td",{staticStyle:{"text-align":"right"}}),r("td",{staticStyle:{"text-align":"right"}},[t._v(" Value ")])]),r("tr",{staticClass:"item"},[r("td",[t._v(" Sum of income from all product sales ")]),r("td",{staticStyle:{"text-align":"right"}}),r("td",{staticStyle:{"text-align":"right"}}),r("td",{staticStyle:{"text-align":"right"}}),r("td",{staticStyle:{"text-align":"right"}},[t._v(" $ "+t._s(parseFloat(t.statement.totalIncome).toFixed(2))+" ")])]),r("tr",{staticClass:"total"},[r("td"),r("td"),r("td"),r("td"),r("td",{staticStyle:{"text-align":"right"}},[t._v(" Total Income: "),r("b",[t._v(t._s(parseFloat(t.statement.totalIncome).toFixed(2)))])])]),r("br"),r("br"),r("tr",{staticClass:"heading"},[r("td",[r("b",[t._v("Logistics Expense Items")])]),r("td",{staticStyle:{"text-align":"right"}}),r("td",{staticStyle:{"text-align":"right"}}),r("td",{staticStyle:{"text-align":"right"}}),r("td",{staticStyle:{"text-align":"right"}},[t._v(" Value ")])]),r("tr",{staticClass:"item"},[r("td",[t._v(" Sum of raw material costs ")]),r("td",{staticStyle:{"text-align":"right"}}),r("td",{staticStyle:{"text-align":"right"}}),r("td",{staticStyle:{"text-align":"right"}}),r("td",{staticStyle:{"text-align":"right"}},[t._v(" $ "+t._s(parseFloat(t.statement.totalExpenses).toFixed(2))+" ")])]),r("tr",{staticClass:"total"},[r("td"),r("td"),r("td"),r("td"),r("td",{staticStyle:{"text-align":"right"}},[t._v(" Total Logistic Expenses: "),r("b",[t._v(t._s(parseFloat(t.statement.totalExpenses).toFixed(2)))])])]),r("br"),r("br"),r("tr",{staticClass:"heading"},[r("td",[r("b",[t._v("General Expense Items")])]),r("td",{staticStyle:{"text-align":"right"}}),r("td",{staticStyle:{"text-align":"right"}}),r("td",{staticStyle:{"text-align":"right"}}),r("td",{staticStyle:{"text-align":"right"}},[t._v(" Value ")])]),r("tr",{staticClass:"item"},[r("td",[t._v(" Sum of general expenses (salaries,utilities,bags) ")]),r("td",{staticStyle:{"text-align":"right"}}),r("td",{staticStyle:{"text-align":"right"}}),r("td",{staticStyle:{"text-align":"right"}}),r("td",{staticStyle:{"text-align":"right"}},[t._v(" $ "+t._s(parseFloat(t.statement.GtotalExpenses).toFixed(2))+" ")])]),r("tr",{staticClass:"total"},[r("td"),r("td"),r("td"),r("td"),r("td",{staticStyle:{"text-align":"right"}},[t._v(" Total General Expenses: "),r("b",[t._v(t._s(parseFloat(t.statement.GtotalExpenses).toFixed(2)))])])]),r("br"),r("br"),r("br"),r("tr",{staticClass:"total"},[r("td"),r("td"),r("td"),r("td"),r("td",{staticStyle:{"text-align":"right"}},[t._v(" Net Profit: "),r("b",[t._v(t._s(parseFloat(t.statement.totalProfit).toFixed(2)))])])])])])])],1)],1),r("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.dialogPrintFull,callback:function(e){t.dialogPrintFull=e},expression:"dialogPrintFull"}},[r("v-card",[r("v-toolbar",{staticClass:"no-print",attrs:{dark:"",color:"primary"}},[r("v-toolbar-title",[t._v("Income and Expenditure Full Statement")]),r("v-spacer"),r("v-toolbar-items",[r("v-btn",{attrs:{dark:"",text:""},on:{click:function(e){t.dialogPrintFull=!1}}},[t._v(" Close ")]),r("v-btn",{attrs:{dark:"",text:""},on:{click:t.printPDF}},[t._v(" PDF ")])],1)],1),r("br"),r("br"),r("v-card-text",[r("div",{ref:"printMe",staticClass:"invoice-box",attrs:{id:"invoiceRFull"}},[r("table",{attrs:{cellpadding:"0",cellspacing:"0"}},[r("tr",{staticClass:"top"},[r("td",{attrs:{colspan:"5"}},[r("table",[r("tr",[r("td",{staticClass:"title"},[r("img",{staticStyle:{width:"100%","max-width":"200px"},attrs:{src:a("733b")}})]),r("td",[t._v(" From Date : "+t._s(t.statement.fromDate)),r("br"),t._v(" To Date: "+t._s(t.statement.toDate)),r("br")])])])])]),r("tr",{staticClass:"information"},[r("td",{attrs:{colspan:"5"}},[r("table",[r("tr",[r("td",[t._v(" 380 simon mazarodze"),r("br"),t._v(" road zimbabwe"),r("br"),t._v(" Zimbabwe ")]),r("td",[t._v(" Internal Report"),r("br"),t._v(" Income and Expenditure Full"),r("br"),"1"==t.statement.docCurrency?r("span",[t._v("Currency : "),r("b",[t._v("USD")])]):t._e(),"2"==t.statement.docCurrency?r("span",[t._v("Currency : "),r("b",[t._v("ZWL")])]):t._e()])])])])]),r("p",[r("b",[t._v("Income Items")])]),r("tr",{staticClass:"heading"},[r("td",[r("b",[t._v("Doc Date")])]),r("td",{staticStyle:{"text-align":"left"}},[r("b",[t._v("Description")])]),r("td",{staticStyle:{"text-align":"left"}}),r("td",{staticStyle:{"text-align":"left"}}),r("td",{staticStyle:{"text-align":"right"}},[t._v(" Value ")])]),t._l(t.statement.ledgerIncome,(function(e,a){return r("tr",{key:a+"A",staticClass:"item"},[r("td",[t._v(" "+t._s(e.docDate)+" ")]),r("td",{staticStyle:{"text-align":"left"}},[t._v(" "+t._s(e.description)+" ")]),r("td",{staticStyle:{"text-align":"left"}}),r("td",{staticStyle:{"text-align":"left"}}),r("td",{staticStyle:{"text-align":"right"}},[t._v(" $ "+t._s(parseFloat(e.debit).toFixed(2))+" ")])])})),r("tr",{staticClass:"total"},[r("td"),r("td"),r("td"),r("td"),r("td",{staticStyle:{"text-align":"right"}},[t._v(" Total Income: "),r("b",[t._v(t._s(parseFloat(t.statement.totalIncome).toFixed(2)))])])]),r("br"),r("br"),r("p",[r("b",[t._v("Expense Items")])]),r("tr",{staticClass:"heading"},[r("td",[r("b",[t._v("Doc Date")])]),r("td",{staticStyle:{"text-align":"left"}},[r("b",[t._v("Description")])]),r("td",{staticStyle:{"text-align":"left"}}),r("td",{staticStyle:{"text-align":"left"}}),r("td",{staticStyle:{"text-align":"right"}},[t._v(" Value ")])]),t._l(t.statement.ledgerExpenses,(function(e,a){return r("tr",{key:a+"B",staticClass:"item"},[r("td",[t._v(" "+t._s(e.docDate)+" ")]),r("td",{staticStyle:{"text-align":"left"}},[t._v(" "+t._s(e.description)+" ")]),r("td",{staticStyle:{"text-align":"left"}}),r("td",{staticStyle:{"text-align":"left"}}),r("td",{staticStyle:{"text-align":"right"}},[t._v(" $ "+t._s(parseFloat(e.credit).toFixed(2))+" ")])])})),r("tr",{staticClass:"total"},[r("td"),r("td"),r("td"),r("td"),r("td",{staticStyle:{"text-align":"right"}},[t._v(" Total Logistic Expenses: "),r("b",[t._v(t._s(parseFloat(t.statement.totalExpenses).toFixed(2)))])])]),r("br"),r("br"),r("p",[r("b",[t._v("General Expense Items")])]),r("tr",{staticClass:"heading"},[r("td",[r("b",[t._v("Doc Date")])]),r("td",{staticStyle:{"text-align":"left"}},[r("b",[t._v("Description")])]),r("td",{staticStyle:{"text-align":"left"}}),r("td",{staticStyle:{"text-align":"left"}}),r("td",{staticStyle:{"text-align":"right"}},[t._v(" Value ")])]),t._l(t.statement.ledgerGExpenses,(function(e,a){return r("tr",{key:a+"C",staticClass:"item"},[r("td",[t._v(" "+t._s(e.docDate)+" ")]),r("td",{staticStyle:{"text-align":"left"}},[t._v(" "+t._s(e.description)+" ")]),r("td",{staticStyle:{"text-align":"left"}}),r("td",{staticStyle:{"text-align":"left"}}),r("td",{staticStyle:{"text-align":"right"}},[t._v(" $ "+t._s(parseFloat(e.credit).toFixed(2))+" ")])])})),r("tr",{staticClass:"total"},[r("td"),r("td"),r("td"),r("td"),r("td",{staticStyle:{"text-align":"right"}},[t._v(" Total General Expenses: "),r("b",[t._v(t._s(parseFloat(t.statement.GtotalExpenses).toFixed(2)))])])]),r("br"),r("br"),r("br"),r("tr",{staticClass:"total"},[r("td"),r("td"),r("td"),r("td"),r("td",{staticStyle:{"text-align":"right"}},[t._v(" Net Profit: "),r("b",[t._v(t._s(parseFloat(t.statement.totalProfit).toFixed(2)))])])])],2)])])],1)],1),r("img",{attrs:{src:t.output}})],1)},Lt=[],jt=a("8baf"),Bt=(a("0da4"),new jt["default"]("p","mm","a4")),Yt=Bt.internal.pageSize.getWidth(),Gt=Bt.internal.pageSize.getHeight(),qt={data:function(){return{output:null,dialogSpecific2:!1,dialogPrint:!1,dialogPrintFull:!1,statement:{fromDate:"",toDate:"",totalIncome:0,totalExpenses:0,GtotalExpenses:0,totalProfit:0,docCurrency:"1",ledgerIncome:[],ledgerExpenses:[],ledgerGExpenses:[]},statementDocCurrency:"1",startDate:"",endDate:"",dialogSpecific:!1,expenseName:"",dialogloader:!1,dialogNewProduct:!1,dialogNewProduct2:!1,dialogDelete:!1,dialogDelete2:!1,currency:"USD",nodeApi:"",selectedCustomer:"",tab:0,items:["Expenses","Ledger Report"],search:"",pagination:{itemsPerPage:15},productDetails:{productCurrency:"1",productName:"",productSize:"",productPrice:""},deliverNote:{docDate:"",expenseName:"",cost:"",docCurrency:"1"},salesOrder:{docDate:"",docCurrency:"",description:"",itemData:[],docTotal:0},customers:[],snack:!1,snackColor:"",snackText:"",max25chars:function(t){return t.length<=25||"Input too long!"},headersProducts:[{text:"Expense ID",align:"start",sortable:!1,value:"id"},{text:"Journal Date",align:"start",sortable:!1,value:"docDate"},{text:"Expense Name",align:"start",sortable:!1,value:"description"},{text:"Amount",align:"start",sortable:!1,value:"credit"},{text:"Actions",value:"actions"}],headersAccount:[{text:"Ledger ID",align:"start",sortable:!1,value:"id"},{text:"Ledger Date",align:"start",sortable:!1,value:"docDate"},{text:"Description",align:"start",sortable:!1,value:"description"},{text:"Debit (Income)",align:"start",sortable:!1,value:"debit"},{text:"Credit (Expense)",align:"start",sortable:!1,value:"credit"},{text:"Actions",value:"actions"}],lineItems:[],editedIndex:-1,products:[],productName:"",productCurrency:"",productSize:"",productPrice:"",productId:"",itemProducts:[],docCurrency:"1",salesOrdersData:[],expenseId:"",ledgerDara:[]}},mounted:function(){this.initialize(),this.getProducts(),this.getLedgerData(),this.getAllOrders();var t=new Date,e=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate();this.salesOrder.docDate=e},watch:{statementDocCurrency:function(t){console.log(t)},docCurrency:function(t){var e=t;this.salesOrder.docCurrency=e,"1"==t&&(this.currency="USD",this.deliverNote.docCurrency=e),"2"==t&&(this.currency="ZWL",this.deliverNote.docCurrency=e),this.clearForm();var a=new Date,r=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate();this.deliverNote.docDate=r,this.getProducts(),this.getLedgerData()},dialogNewProduct:function(t){if(t){this.deliverNote={docDate:"",expenseName:"",cost:"",docCurrency:"1"};var e=new Date,a=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate();this.deliverNote.docDate=a}},dialogNewProduct2:function(t){t&&(this.productDetails={productCurrency:"1",productName:"",productSize:"",productPrice:""})}},methods:{printPDF:function(){var t=this;return Object(b["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.$refs.printMe,r={type:"dataURL"},e.next=4,t.$html2canvas(a,r);case 4:return t.output=e.sent,e.next=7,Bt.addImage(t.output,"png",0,0,Yt,Gt);case 7:return e.next=9,Bt.save("IcomeStatement.pdf");case 9:case"end":return e.stop()}}),e)})))()},printStatement:function(){var t=this;if(""==this.statement.fromDate&&""==this.statement.toDate){var e=new Date,a=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate();this.statement.fromDate=a,this.statement.toDate=a,this.dialogPrint=!0,console.log(this.ledgerDara),this.statement.totalIncome=0,this.statement.totalExpenses=0,this.statement.GtotalExpenses=0,this.statement.totalProfit=0,this.statement.docCurrency=this.statementDocCurrency,this.ledgerDara.forEach((function(e){e.debit>0&&e.currency==t.statement.docCurrency&&(t.statement.totalIncome+=e.debit),e.credit>0&&e.currency==t.statement.docCurrency&&0==e.docId&&(t.statement.GtotalExpenses+=e.credit),e.credit>0&&e.currency==t.statement.docCurrency&&0!=e.docId&&(t.statement.totalExpenses+=e.credit)})),this.statement.totalProfit=this.statement.totalIncome-(this.statement.totalExpenses+this.statement.GtotalExpenses)}else this.dialogPrint=!0,this.statement.totalIncome=0,this.statement.totalExpenses=0,this.statement.GtotalExpenses=0,this.statement.totalProfit=0,this.statement.docCurrency=this.statementDocCurrency,this.ledgerDara.forEach((function(e){e.debit>0&&e.currency==t.statement.docCurrency&&(t.statement.totalIncome+=e.debit),e.credit>0&&e.currency==t.statement.docCurrency&&0==e.docId&&(t.statement.GtotalExpenses+=e.credit),e.credit>0&&e.currency==t.statement.docCurrency&&0!=e.docId&&(t.statement.totalExpenses+=e.credit)})),this.statement.totalProfit=this.statement.totalIncome-(this.statement.totalExpenses+this.statement.GtotalExpenses)},printStatementFull:function(){var t=this;if(""==this.statement.fromDate&&""==this.statement.toDate){var e=new Date,a=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate();this.statement.fromDate=a,this.statement.toDate=a,this.dialogPrintFull=!0,this.statement.totalIncome=0,this.statement.totalExpenses=0,this.statement.GtotalExpenses=0,this.statement.totalProfit=0,this.statement.ledgerIncome=[],this.statement.ledgerGExpenses=[],this.statement.ledgerExpenses=[],this.statement.docCurrency=this.statementDocCurrency,this.ledgerDara.forEach((function(e){e.debit>0&&e.currency==t.statement.docCurrency&&(t.statement.totalIncome+=e.debit,t.statement.ledgerIncome.push(e)),e.credit>0&&e.currency==t.statement.docCurrency&&0==e.docId&&(t.statement.GtotalExpenses+=e.credit,t.statement.ledgerGExpenses.push(e)),e.credit>0&&e.currency==t.statement.docCurrency&&0!=e.docId&&(t.statement.totalExpenses+=e.credit,t.statement.ledgerExpenses.push(e))})),this.statement.totalProfit=this.statement.totalIncome-(this.statement.totalExpenses+this.statement.GtotalExpenses)}else this.dialogPrintFull=!0,this.statement.totalIncome=0,this.statement.totalExpenses=0,this.statement.GtotalExpenses=0,this.statement.totalProfit=0,this.statement.ledgerIncome=[],this.statement.ledgerGExpenses=[],this.statement.ledgerExpenses=[],this.statement.docCurrency=this.statementDocCurrency,this.ledgerDara.forEach((function(e){e.debit>0&&e.currency==t.statement.docCurrency&&(t.statement.totalIncome+=e.debit,t.statement.ledgerIncome.push(e)),e.credit>0&&e.currency==t.statement.docCurrency&&0==e.docId&&(t.statement.GtotalExpenses+=e.credit,t.statement.ledgerGExpenses.push(e)),e.credit>0&&e.currency==t.statement.docCurrency&&0!=e.docId&&(t.statement.totalExpenses+=e.credit,t.statement.ledgerExpenses.push(e))})),this.statement.totalProfit=this.statement.totalIncome-(this.statement.totalExpenses+this.statement.GtotalExpenses)},editItem:function(t){this.productDetails=Object.assign({},t),this.productName=t.productName,this.productCurrency=t.productCurrency.toString(),this.productSize=t.productSize,this.productPrice=t.productPrice,this.productId=t.productId,this.dialogNewProduct2=!0},saveProductUpdate:function(){var t=this;this.expenseName?this.axios.post(this.nodeApi+"/addExpense",{expenseName:this.expenseName}).then((function(e){e.data.affectedRows>0?(t.initialize(),t.dialogNewProduct2=!1,t.dialogloader=!1,t.expenseName="",t.$swal.fire({type:"success",title:"Expense Item Added",text:"You have successfully added a Expense Item"})):t.$swal.fire({type:"error",title:"Adding Expense Item Failed",text:e.data.originalError.info.message})})).catch((function(e){t.$swal.fire({type:"error",title:"Adding Expense Item Failed Failed",text:e})})):this.$swal.fire({type:"error",title:"Adding Expense Item Failed",text:"Please enter a valid Expense Item."})},saveProduct:function(){var t=this;this.deliverNote.docDate?this.deliverNote.expenseName?this.deliverNote.cost?isNaN(this.deliverNote.cost)?this.$swal.fire({type:"error",title:"Adding Journal Failed",text:"Please enter a valid Product price (it has to be a number)"}):(this.dialogloader=!0,this.deliverNote.createdBy=this.$session.get("user").userId,this.axios.post(this.nodeApi+"/addJournalExpense",this.deliverNote).then((function(e){e.data.affectedRows>0?(t.getProducts(),t.getLedgerData(),t.dialogNewProduct=!1,t.dialogloader=!1,t.$swal.fire({type:"success",title:"Journal Added",text:"You have successfully added a new Journal note"})):(t.dialogloader=!1,t.$swal.fire({type:"error",title:"Adding Journal Failed",text:e.data.originalError.info.message}))})).catch((function(e){t.dialogloader=!1,t.$swal.fire({type:"error",title:"Adding Delivery Failed",text:e})}))):this.$swal.fire({type:"error",title:"Adding Journal Failed",text:"Please enter a valid cost amount"}):this.$swal.fire({type:"error",title:"Adding Journal Failed",text:"Please enter a valid supplier."}):this.$swal.fire({type:"error",title:"Adding Journal Failed",text:"Please enter a valid document Date."})},addItem:function(){this.lineItems.push({productId:"1",productName:"Click to Edit",quantity:1,price:0,tax:14.5,linetotal:0})},clearForm:function(){this.salesOrder={customerId:"",docDate:"",docCurrency:"1",description:"",itemData:[],docTotal:0},this.lineItems=[];var t=new Date,e=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate();this.salesOrder.docDate=e},closeDelete:function(){var t=this;this.dialogDelete=!1,this.dialogDelete2=!1,this.$nextTick((function(){t.editedIndex=-1}))},deleteItem:function(t){this.editedIndex=this.products.indexOf(t),this.expenseId=t.id,this.dialogDelete=!0},deleteItemConfirm:function(){var t=this;this.products.splice(this.editedIndex,1),this.axios.post(this.nodeApi+"/removeExpenseIdList",{expenseId:this.expenseId}).then((function(e){e.data.affectedRows>0?(t.$swal.fire({type:"success",title:"Journal Deleted successfully",text:"You have successfully added a new sales order"}),t.closeDelete()):t.$swal.fire({type:"error",title:"Journal Deleting Failed",text:e.data.originalError.info.message})})).catch((function(e){t.$swal.fire({type:"error",title:"Item Deleting Failed",text:e})}))},deleteItem2:function(t){this.editedIndex=this.ledgerDara.indexOf(t),this.expenseId=t.id,this.dialogDelete2=!0},deleteItemConfirm2:function(){var t=this;this.ledgerDara.splice(this.editedIndex,1),this.axios.post(this.nodeApi+"/removeExpenseIdList",{expenseId:this.expenseId}).then((function(e){e.data.affectedRows>0?(t.$swal.fire({type:"success",title:"Ledger Deleted successfully",text:"You have successfully added a new sales order"}),t.closeDelete()):t.$swal.fire({type:"error",title:"Ledger Deleting Failed",text:e.data.originalError.info.message})})).catch((function(e){t.$swal.fire({type:"error",title:"Item Deleting Failed",text:e})}))},getAllOrders:function(){var t=this;this.axios.get(this.nodeApi+"/getAllSalesOrders").then((function(e){t.salesOrdersData=e.data})).catch((function(t){console.log(t)}))},getLedgerData:function(){var t=this;this.axios.get(this.nodeApi+"/getLedgerReport").then((function(e){t.ledgerDara=e.data})).catch((function(t){console.log(t)}))},getProducts:function(){var t=this;this.axios.get(this.nodeApi+"/getJournalExpenses").then((function(e){t.products=e.data})).catch((function(t){console.log(t)}))},initialize:function(){var t=this;this.axios.get(this.nodeApi+"/getAllExpenses").then((function(e){t.customers=e.data})).catch((function(t){console.log(t)}))},journalsToday:function(){var t=this;this.axios.get(this.nodeApi+"/getJournalExpensesToday").then((function(e){t.products=e.data})).catch((function(t){console.log(t)}))},journalsSpecific:function(){var t=this;this.axios.post(this.nodeApi+"/getJournalExpensesSpecific",{startDate:this.startDate,endDate:this.endDate}).then((function(e){t.products=e.data,t.statement.fromDate=t.startDate,t.statement.toDate=t.endDate,t.dialogSpecific=!1})).catch((function(t){console.log(t)}))},getLedgerDataToday:function(){var t=this;this.axios.get(this.nodeApi+"/getLedgerReportToday").then((function(e){t.ledgerDara=e.data})).catch((function(t){console.log(t)}))},getLedgerDataSpecific:function(){var t=this;this.axios.post(this.nodeApi+"/getLedgerReportSpecific",{startDate:this.startDate,endDate:this.endDate}).then((function(e){t.ledgerDara=e.data,t.dialogSpecific2=!1})).catch((function(t){console.log(t)}))},save:function(t){var e=this;console.log(t);var a=this.products.find((function(e){var a=e.productName;return a===t.productName})),r=this.lineItems.indexOf(t);t.productName==a.productName?(this.lineItems[r].productId=a.productId,this.lineItems[r].price=a.productPrice,this.lineItems[r].productSize=a.productSize,this.lineItems[r].linetotal=a.productPrice*t.quantity+a.productPrice*t.quantity*t.tax/100,this.lineItems.forEach((function(t){e.salesOrder.docTotal+=t.linetotal}))):console.log("Data Mismatch"),this.snack=!0,this.snackColor="success",this.snackText="Data saved"},cancel:function(){this.snack=!0,this.snackColor="error",this.snackText="Canceled"},open:function(){this.snack=!0,this.snackColor="info",this.snackText="Dialog opened"},close:function(){console.log("Dialog closed")},saveSalesOrder:function(){var t=this;this.dialogloader=!0,this.salesOrder.itemData=JSON.stringify(this.lineItems),this.salesOrder.docCurrency=this.docCurrency,this.salesOrder.createdBy=this.$session.get("user").userId,this.axios.post(this.nodeApi+"/addSalesOrder",this.salesOrder).then((function(e){e.data.length>0?(t.$swal.fire({type:"success",title:"Sales Order Added",text:"You have successfully added a new sales order"}),t.clearForm(),t.getAllOrders(),t.dialogloader=!1):(t.dialogloader=!1,t.$swal.fire({type:"error",title:"Adding Sales Order Failed",text:e.data.originalError.info.message}))})).catch((function(e){t.dialogloader=!1,t.$swal.fire({type:"error",title:"Adding Sales Order Failed",text:e})}))}}},Jt=qt,Zt=(a("d614"),Object(o["a"])(Jt,Mt,Lt,!1,null,"6aeea701",null)),Wt=Zt.exports;n()(Zt,{VAppBar:ut["a"],VAutocomplete:_t["a"],VBtn:vt["a"],VBtnToggle:pt["a"],VCard:N["a"],VCardActions:I["a"],VCardText:I["c"],VCardTitle:I["d"],VChip:J["a"],VCol:Dt["a"],VContainer:wt["a"],VDataTable:St["a"],VDialog:Ct["a"],VIcon:It["a"],VImg:T["a"],VProgressLinear:Pt["a"],VRow:At["a"],VSpacer:$["a"],VTab:Ft["a"],VTabs:$t["a"],VTextField:Ot["a"],VToolbar:Ut["a"],VToolbarItems:mt["a"],VToolbarTitle:mt["b"],VTooltip:Et["a"]});var Kt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-app-bar",{attrs:{color:"#003263",dark:"",src:a("d7c3")},scopedSlots:t._u([{key:"img",fn:function(e){var a=e.props;return[r("v-img",t._b({attrs:{gradient:"to top right, rgb(1,48,98,.9), rgb(22,61,99,.8)"}},"v-img",a,!1))]}},{key:"extension",fn:function(){return[r("v-tabs",{attrs:{right:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.items,(function(e){return r("v-tab",{key:e},[t._v(" "+t._s(e)+" ")])})),1)]},proxy:!0}])},[r("div",[r("img",{staticClass:"bounceIn",staticStyle:{"margin-top":"50px"},attrs:{src:a("118f"),width:"150"}})]),r("v-spacer"),r("v-toolbar-title",[t._v("Logistics Management")])],1),r("div",{staticStyle:{"background-color":"#EBEFF3",height:"88vh","overflow-y":"auto",display:"flex","justify-content":"center"}},[r("br"),0==t.tab?r("v-card",{staticClass:"ma-5",attrs:{width:"1100",height:"750"}},[r("v-toolbar",{attrs:{dark:"",color:"green",flat:""}},[r("v-toolbar-title",[t._v("Delivery In form")]),r("v-spacer"),r("v-btn",{staticClass:"mr-5",attrs:{color:"blue",dark:""},on:{click:function(e){t.dialogNewProduct=!0}}},[r("v-icon",{attrs:{left:""}},[t._v(" add ")]),t._v(" Add Delivery ")],1),r("download-csv",{attrs:{data:t.products,fields:["logisticsId","docDate","supplierName","currencyISO","weight","cost","description"]}},[r("v-btn",{staticClass:"mr-5",attrs:{color:"red",dark:""}},[r("v-icon",{attrs:{left:""}},[t._v(" add ")]),t._v(" Export ")],1)],1)],1),r("v-data-table",{attrs:{headers:t.headersProducts,items:t.products,search:t.search,"sort-by":"logisticsId","sort-desc":""},scopedSlots:t._u([{key:"top",fn:function(){return[r("v-toolbar",{attrs:{flat:"",color:"white"}},[r("v-spacer"),r("v-btn",{staticClass:"mr-5",attrs:{color:"blue",dark:""},on:{click:t.deliveryToday}},[r("v-icon",{attrs:{left:""}},[t._v(" search ")]),t._v(" Today ")],1),r("v-btn",{staticClass:"mr-5",attrs:{color:"blue",dark:""},on:{click:function(e){t.dialogSpecific=!0}}},[r("v-icon",{attrs:{left:""}},[t._v(" search ")]),t._v(" Specfic Date ")],1)],1)]},proxy:!0},{key:"item.cost",fn:function(e){var a=e.item;return["1"==a.docCurrency?r("span",[t._v(" USD "+t._s(parseFloat(a.cost).toFixed(2))+" ")]):t._e(),"2"==a.docCurrency?r("span",[t._v(" ZWL "+t._s(parseFloat(a.cost).toFixed(2))+" ")]):t._e()]}},{key:"item.totalCost",fn:function(e){var a=e.item;return["1"==a.docCurrency?r("v-chip",{attrs:{color:"green",dark:""}},[t._v(" USD "+t._s(parseFloat(a.totalCost).toFixed(2))+" ")]):t._e(),"2"==a.docCurrency?r("v-chip",{attrs:{color:"orange",dark:""}},[t._v(" ZWL "+t._s(parseFloat(a.totalCost).toFixed(2))+" ")]):t._e()]}},{key:"item.actions",fn:function(e){var a=e.item;return[0!=a.status?r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[r("v-icon",t._g(t._b({staticClass:"mr-2",attrs:{color:"red"},on:{click:function(e){return t.deleteItem(a)}}},"v-icon",s,!1),i),[t._v(" delete ")])]}}],null,!0)},[r("span",[t._v("Delete")])]):t._e()]}},{key:"no-data",fn:function(){return[r("h3",[t._v("No Records Found")])]},proxy:!0}],null,!1,1652371973)})],1):t._e()],1),r("v-dialog",{attrs:{"max-width":"750px"},model:{value:t.dialogNewProduct,callback:function(e){t.dialogNewProduct=e},expression:"dialogNewProduct"}},[r("v-card",[r("v-card-title",{staticClass:"headline blue lighten-2 white--text",attrs:{"primary-title":""}},[r("span",{staticClass:"headline"},[t._v("Create New Delivery In : Total "+t._s(parseFloat(t.deliverNote.totalCost).toFixed(2)))]),r("v-spacer"),r("v-btn-toggle",{attrs:{color:"blue","background-color":"white"},model:{value:t.deliverNote.docCurrency,callback:function(e){t.$set(t.deliverNote,"docCurrency",e)},expression:"deliverNote.docCurrency"}},[r("v-btn",{attrs:{value:"1"}},[t._v(" USD ")]),r("v-btn",{attrs:{value:"2"}},[t._v(" ZWL ")])],1)],1),r("v-card-text",[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[r("div",{staticStyle:{display:"flex","justify-content":"start"}},[r("span",[t._v("Delivery Date")])]),r("v-text-field",{attrs:{solo:"",outlined:"",type:"date"},model:{value:t.deliverNote.docDate,callback:function(e){t.$set(t.deliverNote,"docDate",e)},expression:"deliverNote.docDate"}})],1),r("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[r("div",{staticStyle:{display:"flex","justify-content":"start"}},[r("span",[t._v("Select Supplier")])]),r("v-autocomplete",{attrs:{"item-text":"supplierName","item-value":"supplierId",items:t.customers,solo:"",outlined:""},model:{value:t.deliverNote.supplierId,callback:function(e){t.$set(t.deliverNote,"supplierId",e)},expression:"deliverNote.supplierId"}})],1),r("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[r("v-text-field",{attrs:{type:"number",label:"Raw Material Weight (Tonnes)",outlined:""},model:{value:t.weight,callback:function(e){t.weight=e},expression:"weight"}})],1),r("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[r("v-text-field",{attrs:{type:"number",label:"Material Cost Per Tone",outlined:""},model:{value:t.cost,callback:function(e){t.cost=e},expression:"cost"}})],1),r("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[r("div",{staticStyle:{display:"flex","justify-content":"start"}},[r("span",[t._v("Deliver In Notes")])]),r("v-textarea",{attrs:{solo:"",outlined:"",type:"date"},model:{value:t.deliverNote.description,callback:function(e){t.$set(t.deliverNote,"description",e)},expression:"deliverNote.description"}})],1)],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"red darken-1",dark:""},on:{click:function(e){t.dialogNewProduct=!1}}},[t._v("Cancel")]),r("v-btn",{attrs:{color:"blue darken-1",dark:""},on:{click:t.saveProduct}},[t._v("Save")])],1)],1)],1),r("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[t._v("Are you sure you want to delete this item?")]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.closeDelete}},[t._v("Cancel")]),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.deleteItemConfirm}},[t._v("OK")]),r("v-spacer")],1)],1)],1),r("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.dialogSpecific,callback:function(e){t.dialogSpecific=e},expression:"dialogSpecific"}},[r("v-card",[r("v-card-title",{staticClass:"headline red lighten-2 white--text",attrs:{"primary-title":""}},[r("span",{staticClass:"headline"},[t._v("Search Delivery by Date")]),r("v-spacer")],1),r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[r("v-text-field",{attrs:{type:"date",solo:"",outlined:""},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}})],1),r("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[r("v-text-field",{attrs:{type:"date",solo:"",outlined:""},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"red darken-1",dark:""},on:{click:function(e){t.dialogSpecific=!1}}},[t._v("Cancel")]),r("v-btn",{attrs:{color:"blue darken-1",dark:""},on:{click:t.deliverySpecific}},[t._v("Save")])],1)],1)],1),r("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.dialogloader,callback:function(e){t.dialogloader=e},expression:"dialogloader"}},[r("v-card",{attrs:{color:"#003263",dark:""}},[r("v-card-text",[r("br"),r("h3",[t._v("Please stand by")]),r("br"),r("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}}),r("br")],1)],1)],1),r("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.dialogPrint,callback:function(e){t.dialogPrint=e},expression:"dialogPrint"}},[r("v-card",[r("v-toolbar",{staticClass:"no-print",attrs:{dark:"",color:"primary"}},[r("v-toolbar-title",[t._v("Delivery Note Preview")]),r("v-spacer"),r("v-toolbar-items",[r("v-btn",{attrs:{dark:"",text:""},on:{click:function(e){t.dialogPrint=!1}}},[t._v(" Close ")])],1)],1),r("br"),r("br"),r("v-card-text",[r("div",{staticClass:"invoice-box",attrs:{id:"invoiceR"}},[r("table",{attrs:{cellpadding:"0",cellspacing:"0"}},[r("tr",{staticClass:"top"},[r("td",{attrs:{colspan:"5"}},[r("table",[r("tr",[r("td",{staticClass:"title"},[r("img",{staticStyle:{width:"100%","max-width":"200px"},attrs:{src:a("733b")}})]),r("td",[t._v(" Delivery Note #: "+t._s(t.deliveryNumner)),r("br"),t._v(" Date: "+t._s(t.deliveryDate)),r("br")])])])])]),r("tr",{staticClass:"information"},[r("td",{attrs:{colspan:"5"}},[r("table",[r("tr",[r("td",[t._v(" 380 simon mazarodze"),r("br"),t._v(" road zimbabwe"),r("br"),t._v(" Zimbabwe ")]),r("td",[t._v(" "+t._s(t.supplierName)),r("br"),t._v(" "+t._s(t.suppilerAddress)),r("br"),t._v(" "+t._s(t.supplierEmail)+" ")])])])])]),r("tr",{staticClass:"heading"},[r("td",[t._v(" Item ")]),r("td",{staticStyle:{"text-align":"right"}},[t._v(" (Tonnes) Size ")]),r("td",{staticStyle:{"text-align":"right"}},[t._v(" Unit Price ")]),r("td",{staticStyle:{"text-align":"right"}}),r("td",{staticStyle:{"text-align":"right"}},[t._v(" Total Price ")])]),r("tr",{staticClass:"item"},[r("td",[t._v(" "+t._s(t.rawMaterial)+" ")]),r("td",{staticStyle:{"text-align":"right"}},[t._v(" "+t._s(t.weight)+" Tonnes ")]),r("td",{staticStyle:{"text-align":"right"}},[t._v(" $ "+t._s(parseFloat(t.cost).toFixed(2))+" / Tonne ")]),r("td",{staticStyle:{"text-align":"right"}}),r("td",{staticStyle:{"text-align":"right"}},[t._v(" $ "+t._s(parseFloat(t.deliverNote.totalCost).toFixed(2))+" ")])]),r("br"),r("br"),r("br"),r("br"),r("br"),r("br"),r("tr",{staticClass:"total"},[r("td",{staticStyle:{"text-align":"left"}},[r("b",[t._v("Description")]),r("br"),t._v(" "+t._s(t.description)+" ")]),r("td"),r("td"),r("td"),r("td")]),r("br"),r("br"),r("tr",{staticClass:"total"},[r("td",[t._v(" Company Stamp ")]),r("td"),r("td"),r("td"),r("td",{staticStyle:{"text-align":"right"}},[t._v(" Total: $"+t._s(parseFloat(t.deliverNote.totalCost).toFixed(2))+" ")])])])])])],1)],1)],1)},Ht=[],Qt={data:function(){return{description:"",rawMaterial:"Raw Material",log_cost:0,log_totalCost:0,log_weight:0,deliveryNumner:"",deliveryDate:"",supplierName:"",suppilerAddress:"",supplierEmail:"",dialogPrint:!1,startDate:"",endDate:"",dialogSpecific:!1,dialogloader:!1,dialogNewProduct:!1,dialogNewProduct2:!1,dialogDelete:!1,currency:"USD",nodeApi:"",selectedCustomer:"",tab:0,items:["Delivery In"],search:"",pagination:{itemsPerPage:15},productDetails:{productCurrency:"1",productName:"",productSize:"",productPrice:""},deliverNote:{docDate:"",supplierId:"",weight:0,cost:0,totalCost:0,docCurrency:"1",description:""},salesOrder:{docDate:"",docCurrency:"",description:"",itemData:[],docTotal:0},customers:[],snack:!1,snackColor:"",snackText:"",weight:0,cost:0,max25chars:function(t){return t.length<=25||"Input too long!"},headersProducts:[{text:"Delivery ID",align:"start",sortable:!1,value:"logisticsId"},{text:"Delivery Date",align:"start",sortable:!1,value:"docDate"},{text:"Supplier Name",align:"start",sortable:!1,value:"supplierName"},{text:"Material Szie (Tonnes)",align:"start",sortable:!1,value:"weight"},{text:"Cost Per Tonne",align:"start",sortable:!1,value:"cost"},{text:"Total Cost",align:"start",sortable:!1,value:"totalCost"},{text:"Actions",value:"actions"}],headers:[{text:"Product ID",align:"start",sortable:!1,value:"productId"},{text:"Product Name",align:"start",sortable:!1,value:"productName"},{text:"Quantity",value:"quantity"},{text:"Size",value:"productSize"},{text:"Unit Price",value:"price"},{text:"TAX",value:"tax"},{text:"Line Total (Inc Tax)",value:"linetotal"},{text:"Actions",value:"actions"}],headersSales:[{text:"SalesOrder ID",align:"start",sortable:!1,value:"salesOrderId"},{text:"Sales Date",align:"start",sortable:!1,value:"docDate"},{text:"Customer Name",align:"start",sortable:!1,value:"customerName"},{text:"Sales Total",align:"start",sortable:!1,value:"docTotal"}],lineItems:[],editedIndex:-1,products:[],productName:"",productCurrency:"",productSize:"",productPrice:"",productId:"",itemProducts:[],docCurrency:"1",salesOrdersData:[],logisticsId:""}},mounted:function(){this.initialize(),this.getProducts(),this.getAllOrders();var t=new Date,e=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate();this.deliverNote.docDate=e},watch:{weight:function(t){this.deliverNote.weight=t,this.deliverNote.totalCost=t*this.cost},cost:function(t){this.deliverNote.cost=t,this.deliverNote.totalCost=t*this.weight},docCurrency:function(t){var e=t;this.salesOrder.docCurrency=e,"1"==t&&(this.currency="USD",this.salesOrder.docCurrency=e),"2"==t&&(this.currency="ZWL",this.salesOrder.docCurrency=e),this.clearForm();var a=new Date,r=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate();this.deliverNote.docDate=r,this.getProducts()},dialogNewProduct:function(t){t&&(this.weight=0,this.cost=0,this.deliverNote={docDate:"",supplierId:"",weight:0,cost:0,totalCost:0,docCurrency:"1",description:""})},dialogNewProduct2:function(t){t&&(this.productDetails={productCurrency:"1",productName:"",productSize:"",productPrice:""})}},methods:{editItem:function(t){this.productDetails=Object.assign({},t),this.productName=t.productName,this.productCurrency=t.productCurrency.toString(),this.productSize=t.productSize,this.productPrice=t.productPrice,this.productId=t.productId,console.log(this.productCurrency),this.dialogNewProduct2=!0},saveProductUpdate:function(){var t=this;this.productName?this.productSize?this.productPrice?isNaN(this.productSize)?this.$swal.fire({type:"error",title:"Updating Product Failed",text:"Please enter a valid Product size (it has to be a number)"}):isNaN(this.productPrice)?this.$swal.fire({type:"error",title:"Updating Product Failed",text:"Please enter a valid Product price (it has to be a number)"}):(this.dialogloader=!0,this.productDetails.productCurrency=this.productCurrency,this.productDetails.productName=this.productName,this.productDetails.productSize=this.productSize,this.productDetails.productPrice=this.productPrice,this.productDetails.productId=this.productId,this.productDetails.createdBy=this.$session.get("user").userId,this.axios.post(this.nodeApi+"/updateProduct",this.productDetails).then((function(e){e.data.affectedRows>0?(t.getProducts(),t.dialogNewProduct2=!1,t.dialogloader=!1,t.$swal.fire({type:"success",title:"Product Updated",text:"You have successfully updated a product"})):t.$swal.fire({type:"error",title:"Updating Product Failed",text:e.data.originalError.info.message})})).catch((function(e){t.$swal.fire({type:"error",title:"Updating Product Failed",text:e})}))):this.$swal.fire({type:"error",title:"Updating Product Failed",text:"Please enter a valid Product price"}):this.$swal.fire({type:"error",title:"Updating Product Failed",text:"Please enter a valid Product package size."}):this.$swal.fire({type:"error",title:"Updating Product Failed",text:"Please enter a valid Product Name."})},saveProduct:function(){var t=this;this.deliverNote.docDate?this.deliverNote.supplierId?this.deliverNote.cost?this.deliverNote.description?this.deliverNote.weight?isNaN(this.deliverNote.weight)?this.$swal.fire({type:"error",title:"Adding Delivery Failed",text:"Please enter a valid Raw Material size (it has to be a number)"}):isNaN(this.deliverNote.cost)?this.$swal.fire({type:"error",title:"Adding Delivery Failed",text:"Please enter a valid Product price (it has to be a number)"}):(this.dialogloader=!0,this.deliverNote.createdBy=this.$session.get("user").userId,this.axios.post(this.nodeApi+"/addDeliveryIn",this.deliverNote).then((function(e){if(e.data.length>0){t.getProducts(),t.dialogNewProduct=!1,t.dialogloader=!1,t.$swal.fire({type:"success",title:"Delivery Added",text:"You have successfully added a new Delivery note"}),t.dialogloader=!1,t.deliveryNumner=e.data[1].insertId;var a=t.deliverNote.supplierId;t.description=t.deliverNote.description;var r=t.customers.filter((function(t){if(t.supplierId==a)return!0}));t.suppilerAddress=r[0].supplierAddress,t.supplierName=r[0].supplierName,t.supplierEmail=r[0].supplierEmail,console.log(r);var i=new Date(Date.now()),s=""+(i.getMonth()+1),o=""+i.getDate(),l=i.getFullYear();t.deliveryDate="".concat(o,"-").concat(s,"-").concat(l),t.dialogPrint=!0}else t.dialogloader=!1,t.$swal.fire({type:"error",title:"Adding Delivery Failed",text:e.data.originalError.info.message})})).catch((function(e){t.dialogloader=!1,t.$swal.fire({type:"error",title:"Adding Delivery Failed",text:e})}))):this.$swal.fire({type:"error",title:"Adding Delivery Failed",text:"Please enter a valid weight amount"}):this.$swal.fire({type:"error",title:"Adding Delivery Failed",text:"Please enter a valid description"}):this.$swal.fire({type:"error",title:"Adding Delivery Failed",text:"Please enter a valid cost amount"}):this.$swal.fire({type:"error",title:"Adding Delivery Failed",text:"Please enter a valid supplier."}):this.$swal.fire({type:"error",title:"Adding Delivery Failed",text:"Please enter a valid document Date."})},addItem:function(){this.lineItems.push({productId:"1",productName:"Click to Edit",quantity:1,price:0,tax:14.5,linetotal:0})},clearForm:function(){this.salesOrder={customerId:"",docDate:"",docCurrency:"1",description:"",itemData:[],docTotal:0},this.lineItems=[];var t=new Date,e=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate();this.salesOrder.docDate=e},closeDelete:function(){var t=this;this.dialogDelete=!1,this.$nextTick((function(){t.editedIndex=-1}))},deleteItem:function(t){this.editedIndex=this.products.indexOf(t),this.logisticsId=t.logisticsId,this.dialogDelete=!0},deleteItemConfirm:function(){var t=this;this.products.splice(this.editedIndex,1),this.axios.post(this.nodeApi+"/removeDeliveryIn",{logisticsId:this.logisticsId}).then((function(e){e.data.affectedRows>0?(t.$swal.fire({type:"success",title:"Item Deleted successfully",text:"You have successfully added a new sales order"}),t.closeDelete()):t.$swal.fire({type:"error",title:"Item Deleting Failed",text:e.data.originalError.info.message})})).catch((function(e){t.$swal.fire({type:"error",title:"Item Deleting Failed",text:e})}))},getAllOrders:function(){var t=this;this.axios.get(this.nodeApi+"/getAllSalesOrders").then((function(e){t.salesOrdersData=e.data})).catch((function(t){console.log(t)}))},getProducts:function(){var t=this;this.axios.get(this.nodeApi+"/getAllDelieries").then((function(e){t.products=e.data})).catch((function(t){console.log(t)}))},deliveryToday:function(){var t=this;this.axios.get(this.nodeApi+"/getAllDelieriesToday").then((function(e){t.products=e.data})).catch((function(t){console.log(t)}))},deliverySpecific:function(){var t=this;this.axios.post(this.nodeApi+"/getAllDelieriesSpecific",{startDate:this.startDate,endDate:this.endDate}).then((function(e){t.products=e.data,t.dialogSpecific=!1})).catch((function(t){console.log(t)}))},initialize:function(){var t=this;this.axios.get(this.nodeApi+"/getAllSuppliers").then((function(e){t.customers=e.data})).catch((function(t){console.log(t)}))},save:function(t){var e=this;console.log(t);var a=this.products.find((function(e){var a=e.productName;return a===t.productName})),r=this.lineItems.indexOf(t);t.productName==a.productName?(this.lineItems[r].productId=a.productId,this.lineItems[r].price=a.productPrice,this.lineItems[r].productSize=a.productSize,this.lineItems[r].linetotal=a.productPrice*t.quantity+a.productPrice*t.quantity*t.tax/100,this.lineItems.forEach((function(t){e.salesOrder.docTotal+=t.linetotal}))):console.log("Data Mismatch"),this.snack=!0,this.snackColor="success",this.snackText="Data saved"},cancel:function(){this.snack=!0,this.snackColor="error",this.snackText="Canceled"},open:function(){this.snack=!0,this.snackColor="info",this.snackText="Dialog opened"},close:function(){console.log("Dialog closed")},saveSalesOrder:function(){var t=this;this.dialogloader=!0,this.salesOrder.itemData=JSON.stringify(this.lineItems),this.salesOrder.docCurrency=this.docCurrency,this.salesOrder.createdBy=this.$session.get("user").userId,this.axios.post(this.nodeApi+"/addSalesOrder",this.salesOrder).then((function(e){e.data.length>0?(t.$swal.fire({type:"success",title:"Sales Order Added",text:"You have successfully added a new sales order"}),t.clearForm(),t.getAllOrders(),t.dialogloader=!1):(t.dialogloader=!1,t.$swal.fire({type:"error",title:"Adding Sales Order Failed",text:e.data.originalError.info.message}))})).catch((function(e){t.dialogloader=!1,t.$swal.fire({type:"error",title:"Adding Sales Order Failed",text:e})}))}}},Xt=Qt,te=(a("8c51"),Object(o["a"])(Xt,Kt,Ht,!1,null,null,null)),ee=te.exports;n()(te,{VAppBar:ut["a"],VAutocomplete:_t["a"],VBtn:vt["a"],VBtnToggle:pt["a"],VCard:N["a"],VCardActions:I["a"],VCardText:I["c"],VCardTitle:I["d"],VChip:J["a"],VCol:Dt["a"],VContainer:wt["a"],VDataTable:St["a"],VDialog:Ct["a"],VIcon:It["a"],VImg:T["a"],VProgressLinear:Pt["a"],VRow:At["a"],VSpacer:$["a"],VTab:Ft["a"],VTabs:$t["a"],VTextField:Ot["a"],VTextarea:Vt["a"],VToolbar:Ut["a"],VToolbarItems:mt["a"],VToolbarTitle:mt["b"],VTooltip:Et["a"]});var ae=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-app-bar",{attrs:{color:"#003263",dark:"",src:a("d7c3")},scopedSlots:t._u([{key:"img",fn:function(e){var a=e.props;return[r("v-img",t._b({attrs:{gradient:"to top right, rgb(1,48,98,.9), rgb(22,61,99,.8)"}},"v-img",a,!1))]}},{key:"extension",fn:function(){return[r("v-tabs",{attrs:{right:""}},[r("v-tab",[t._v("Customer List")])],1)]},proxy:!0}])},[r("div",[r("img",{staticClass:"bounceIn",staticStyle:{"margin-top":"50px"},attrs:{src:a("118f"),width:"150"}})]),r("v-spacer"),r("v-toolbar-title",[t._v("Customer Management")])],1),r("div",{staticStyle:{"background-color":"#EBEFF3",height:"95vh","overflow-y":"auto"}},[r("br"),r("v-card",{staticClass:"ml-5 mr-5 mb-5"},[r("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.users,search:t.search,"sort-by":"customerId"},scopedSlots:t._u([{key:"top",fn:function(){return[r("v-toolbar",{attrs:{flat:"",color:"white"}},[r("v-spacer"),r("v-text-field",{staticClass:"mt-5 mr-5",attrs:{dense:"","append-icon":"search",label:"Search",solo:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),r("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,i=e.attrs;return[r("v-btn",t._g(t._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",i,!1),a),[t._v("New Customer")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-card",[r("v-card-title",{staticClass:"headline blue lighten-2 white--text",attrs:{"primary-title":""}},[r("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),r("v-card-text",[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[r("v-text-field",{attrs:{label:"Customer Name"},model:{value:t.editedUser.customerName,callback:function(e){t.$set(t.editedUser,"customerName",e)},expression:"editedUser.customerName"}})],1),r("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[r("v-text-field",{attrs:{label:"Customer Address"},model:{value:t.editedUser.customerAddress,callback:function(e){t.$set(t.editedUser,"customerAddress",e)},expression:"editedUser.customerAddress"}})],1),r("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[r("v-text-field",{attrs:{label:"Email Address"},model:{value:t.editedUser.customerEmail,callback:function(e){t.$set(t.editedUser,"customerEmail",e)},expression:"editedUser.customerEmail"}})],1),r("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[r("v-text-field",{attrs:{label:"Customer Phone"},model:{value:t.editedUser.customerPhone,callback:function(e){t.$set(t.editedUser,"customerPhone",e)},expression:"editedUser.customerPhone"}})],1),r("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[r("v-text-field",{attrs:{label:"BP Number"},model:{value:t.editedUser.VATNumber,callback:function(e){t.$set(t.editedUser,"VATNumber",e)},expression:"editedUser.VATNumber"}})],1)],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancel")]),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.save}},[t._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var a=e.item;return[1==t.userTypeAdmin?r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[r("v-icon",t._g(t._b({staticClass:"mr-2",attrs:{color:"blue"},on:{click:function(e){return t.editItem(a)}}},"v-icon",s,!1),i),[t._v(" edit ")])]}}],null,!0)},[r("span",[t._v("Edit User")])]):t._e(),1!=a.status?r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[r("v-icon",t._g(t._b({staticClass:"mr-2",attrs:{color:"red"},on:{click:function(e){return t.changeStatus(a,1)}}},"v-icon",s,!1),i),[t._v(" face ")])]}}],null,!0)},[r("span",[t._v("Activate User")])]):t._e(),0!=a.status?r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[r("v-icon",t._g(t._b({staticClass:"mr-2",attrs:{color:"green"},on:{click:function(e){return t.changeStatus(a,0)}}},"v-icon",s,!1),i),[t._v(" face ")])]}}],null,!0)},[r("span",[t._v("De-Activate Customer")])]):t._e(),0!=a.status?r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[r("v-icon",t._g(t._b({staticClass:"mr-2",attrs:{color:"red"},on:{click:function(e){return t.deleteItem(a,0)}}},"v-icon",s,!1),i),[t._v(" delete ")])]}}],null,!0)},[r("span",[t._v("Delete Customer")])]):t._e()]}},{key:"no-data",fn:function(){return[r("h3",[t._v("No Records Found")])]},proxy:!0},{key:"item.status",fn:function(e){var a=e.item;return[t._v(" "+t._s(t.userStatus(a))+" ")]}},{key:"item.userTypes",fn:function(e){var a=e.item;return[t._v(" "+t._s(t.userType(a))+" ")]}}])})],1)],1),r("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[t._v("Are you sure you want to delete this item?")]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.closeDelete}},[t._v("Cancel")]),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.deleteItemConfirm}},[t._v("OK")]),r("v-spacer")],1)],1)],1)],1)},re=[],ie={data:function(){return{dialogDelete:!1,nodeApi:"",page:"Main Page",dialog:!1,dialogRestPassword:!1,search:"",confirm_password:"",userTypeData:[{id:1,name:"Super Admin"},{id:2,name:"Admin"},{id:3,name:"Accountant"},{id:4,name:"Data Capturer"}],userStatusData:[{id:1,name:"Active"},{id:2,name:"Inactive"}],headers:[{text:"Customer ID",value:"customerId"},{text:"Customer Name",value:"customerName"},{text:"Customer Address",value:"customerAddress"},{text:"Customer Email",value:"customerEmail"},{text:"Customer Phone",value:"customerPhone"},{text:"Customer VAT No.",value:"VATNumber"},{text:"Actions",value:"actions",sortable:!1}],users:[],editedIndex:-1,editedUser:{customerName:"",customerAddress:"",customerEmail:"",customerPhone:"",VATNumber:""},defaultUser:{customerName:"",customerAddress:"",customerEmail:"",customerPhone:"",VATNumber:""},passwordObj:{},userTypeAdmin:null,customerId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"New Customers":"Edit Customers"}},watch:{dialog:function(t){t||this.close()}},mounted:function(){this.userTypeAdmin=this.$session.get("user").userTypes},created:function(){this.initialize()},methods:{closeDelete:function(){var t=this;this.dialogDelete=!1,this.$nextTick((function(){t.editedIndex=-1}))},deleteItem:function(t){this.editedIndex=this.users.indexOf(t),this.customerId=t.customerId,this.dialogDelete=!0},deleteItemConfirm:function(){var t=this;this.users.splice(this.editedIndex,1),this.axios.post(this.nodeApi+"/removeCustomer",{customerId:this.customerId}).then((function(e){e.data.affectedRows>0?(t.$swal.fire({type:"success",title:"Customer Deleted successfully",text:"You have successfully added a new sales order"}),t.closeDelete()):t.$swal.fire({type:"error",title:"Customer Deleting Failed",text:e.data.originalError.info.message})})).catch((function(e){t.$swal.fire({type:"error",title:"Item Deleting Failed",text:e})}))},initialize:function(){var t=this;this.axios.get(this.nodeApi+"/getAllCustomers").then((function(e){t.users=e.data})).catch((function(t){console.log(t)}))},userStatus:function(t){return 0==t.status?"Inactive":"Active"},userType:function(t){return 1==t.userTypes?(console.log(t.userTypes),"Super Admin"):2==t.userTypes?"Admin":3==t.userTypes?"Accountant":4==t.userTypes?"Data Capturer":void 0},changeStatus:function(t,e){var a=this,r={customerId:t.customerId,status:e},i="";i=1==e?"Activated":"De-Activated",this.axios.post(this.nodeApi+"/updateCustomerStatus",r).then((function(t){t.data.affectedRows>0?(a.$swal.fire({type:"success",title:"User Updated",text:"Your customer was successfully "+i+"."}),a.initialize()):a.$swal.fire({type:"error",title:"Updating Customer Failed",text:t.data.originalError.info.message})})).catch((function(t){a.$swal.fire({type:"error",title:"Updating Customer Failed",text:t})}))},editItem:function(t){this.editedIndex=this.users.indexOf(t),this.editedUser=Object.assign({},t),this.dialog=!0},close:function(){var t=this;this.dialog=!1,this.confirm_password="",this.$nextTick((function(){t.editedUser=Object.assign({},t.defaultUser),t.editedIndex=-1}))},save:function(){var t=this;if(this.editedIndex>-1){var e={customerName:this.editedUser.customerName,customerAddress:this.editedUser.customerAddress,customerEmail:this.editedUser.customerEmail,customerPhone:this.editedUser.customerPhone,customerId:this.editedUser.customerId,VATNumber:this.editedUser.VATNumber,createdBy:this.$session.get("user").userId};this.axios.post(this.nodeApi+"/updateCustomer",e).then((function(e){e.data.affectedRows>0?(t.$swal.fire({type:"success",title:"Customer Updated",text:"Your customer was successfully updated."}),t.initialize()):t.$swal.fire({type:"error",title:"Updating Customer Failed",text:e.data.originalError.info.message})})).catch((function(e){t.$swal.fire({type:"error",title:"Updating Customer Failed",text:e})})),this.close()}else this.editedUser.customerName?this.editedUser.customerAddress?this.editedUser.customerEmail?this.editedUser.customerPhone?this.editedUser.VATNumber?(this.editedUser.createdBy=this.$session.get("user").userId,this.axios.post(this.nodeApi+"/addCustomer",this.editedUser).then((function(e){e.data.affectedRows>0?(t.$swal.fire({type:"success",title:"User Customer",text:"Your new customer was successfully added."}),t.initialize()):t.$swal.fire({type:"error",title:"Adding Customer Failed",text:e.data.originalError.info.message})})).catch((function(e){t.$swal.fire({type:"error",title:"Adding Customer Failed",text:e})})),this.close()):this.$swal.fire({type:"error",title:"Adding Customer Failed",text:"Please enter a valid VAT Number"}):this.$swal.fire({type:"error",title:"Adding Customer Failed",text:"Please select a valid customer Phone"}):this.$swal.fire({type:"error",title:"Adding Customer Failed",text:"Please enter a valid Email Address"}):this.$swal.fire({type:"error",title:"Adding Customer Failed",text:"Please enter a valid customer Address"}):this.$swal.fire({type:"error",title:"Adding Customer Failed",text:"Please enter a valid customer Name"})}}},se=ie,oe=Object(o["a"])(se,ae,re,!1,null,"ea2f02aa",null),le=oe.exports;n()(oe,{VAppBar:ut["a"],VBtn:vt["a"],VCard:N["a"],VCardActions:I["a"],VCardText:I["c"],VCardTitle:I["d"],VCol:Dt["a"],VContainer:wt["a"],VDataTable:St["a"],VDialog:Ct["a"],VIcon:It["a"],VImg:T["a"],VRow:At["a"],VSpacer:$["a"],VTab:Ft["a"],VTabs:$t["a"],VTextField:Ot["a"],VToolbar:Ut["a"],VToolbarTitle:mt["b"],VTooltip:Et["a"]});var ne=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-app-bar",{attrs:{color:"#003263",dark:"",src:a("d7c3")},scopedSlots:t._u([{key:"img",fn:function(e){var a=e.props;return[r("v-img",t._b({attrs:{gradient:"to top right, rgb(1,48,98,.9), rgb(22,61,99,.8)"}},"v-img",a,!1))]}},{key:"extension",fn:function(){return[r("v-tabs",{attrs:{right:""}},[r("v-tab",[t._v("Supplier List")])],1)]},proxy:!0}])},[r("div",[r("img",{staticClass:"bounceIn",staticStyle:{"margin-top":"50px"},attrs:{src:a("118f"),width:"150"}})]),r("v-spacer"),r("v-toolbar-title",[t._v("Supplier Management")])],1),r("div",{staticStyle:{"background-color":"#EBEFF3",height:"95vh","overflow-y":"auto"}},[r("br"),r("v-card",{staticClass:"ml-5 mr-5 mb-5"},[r("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.users,search:t.search,"sort-by":"supplierId"},scopedSlots:t._u([{key:"top",fn:function(){return[r("v-toolbar",{attrs:{flat:"",color:"white"}},[r("v-spacer"),r("v-text-field",{staticClass:"mt-5 mr-5",attrs:{dense:"","append-icon":"search",label:"Search",solo:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),r("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,i=e.attrs;return[r("v-btn",t._g(t._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",i,!1),a),[t._v("New Supplier")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-card",[r("v-card-title",{staticClass:"headline blue lighten-2 white--text",attrs:{"primary-title":""}},[r("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),r("v-card-text",[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[r("v-text-field",{attrs:{label:"Supplier Name"},model:{value:t.editedUser.supplierName,callback:function(e){t.$set(t.editedUser,"supplierName",e)},expression:"editedUser.supplierName"}})],1),r("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[r("v-text-field",{attrs:{label:"Supplier Address"},model:{value:t.editedUser.supplierAddress,callback:function(e){t.$set(t.editedUser,"supplierAddress",e)},expression:"editedUser.supplierAddress"}})],1),r("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[r("v-text-field",{attrs:{label:"Email Address"},model:{value:t.editedUser.supplierEmail,callback:function(e){t.$set(t.editedUser,"supplierEmail",e)},expression:"editedUser.supplierEmail"}})],1),r("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[r("v-text-field",{attrs:{label:"Supplier Phone"},model:{value:t.editedUser.supplierPhone,callback:function(e){t.$set(t.editedUser,"supplierPhone",e)},expression:"editedUser.supplierPhone"}})],1),r("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[r("v-text-field",{attrs:{label:"BP Number"},model:{value:t.editedUser.VATNumber,callback:function(e){t.$set(t.editedUser,"VATNumber",e)},expression:"editedUser.VATNumber"}})],1)],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancel")]),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.save}},[t._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var a=e.item;return[1==t.userTypeAdmin?r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[r("v-icon",t._g(t._b({staticClass:"mr-2",attrs:{color:"blue"},on:{click:function(e){return t.editItem(a)}}},"v-icon",s,!1),i),[t._v(" edit ")])]}}],null,!0)},[r("span",[t._v("Edit Supplier")])]):t._e(),1!=a.status?r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[r("v-icon",t._g(t._b({staticClass:"mr-2",attrs:{color:"red"},on:{click:function(e){return t.changeStatus(a,1)}}},"v-icon",s,!1),i),[t._v(" face ")])]}}],null,!0)},[r("span",[t._v("Activate Supplier")])]):t._e(),0!=a.status?r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[r("v-icon",t._g(t._b({staticClass:"mr-2",attrs:{color:"green"},on:{click:function(e){return t.changeStatus(a,0)}}},"v-icon",s,!1),i),[t._v(" face ")])]}}],null,!0)},[r("span",[t._v("De-Activate Supplier")])]):t._e(),0!=a.status?r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[r("v-icon",t._g(t._b({staticClass:"mr-2",attrs:{color:"red"},on:{click:function(e){return t.deleteItem(a,0)}}},"v-icon",s,!1),i),[t._v(" delete ")])]}}],null,!0)},[r("span",[t._v("Delete Supplier")])]):t._e()]}},{key:"no-data",fn:function(){return[r("h3",[t._v("No Records Found")])]},proxy:!0},{key:"item.status",fn:function(e){var a=e.item;return[t._v(" "+t._s(t.userStatus(a))+" ")]}},{key:"item.userTypes",fn:function(e){var a=e.item;return[t._v(" "+t._s(t.userType(a))+" ")]}}])})],1)],1),r("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[t._v("Are you sure you want to delete this item?")]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.closeDelete}},[t._v("Cancel")]),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.deleteItemConfirm}},[t._v("OK")]),r("v-spacer")],1)],1)],1)],1)},de=[],ce={data:function(){return{dialogDelete:!1,nodeApi:"",page:"Main Page",dialog:!1,dialogRestPassword:!1,search:"",confirm_password:"",userTypeData:[{id:1,name:"Super Admin"},{id:2,name:"Admin"},{id:3,name:"Accountant"},{id:4,name:"Data Capturer"}],userStatusData:[{id:1,name:"Active"},{id:2,name:"Inactive"}],headers:[{text:"Supplier ID",value:"supplierId"},{text:"Supplier Name",value:"supplierName"},{text:"Supplier Address",value:"supplierAddress"},{text:"Supplier Email",value:"supplierEmail"},{text:"Supplier Phone",value:"supplierPhone"},{text:"Supplier VAT No.",value:"VATNumber"},{text:"Actions",value:"actions",sortable:!1}],users:[],editedIndex:-1,editedUser:{supplierName:"",supplierAddress:"",supplierEmail:"",supplierPhone:"",VATNumber:""},defaultUser:{supplierName:"",supplierAddress:"",supplierEmail:"",supplierPhone:"",VATNumber:""},passwordObj:{},userTypeAdmin:null,supplierId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"New Supplier":"Edit Supplier"}},watch:{dialog:function(t){t||this.close()}},mounted:function(){this.userTypeAdmin=this.$session.get("user").userTypes},created:function(){this.initialize()},methods:{closeDelete:function(){var t=this;this.dialogDelete=!1,this.$nextTick((function(){t.editedIndex=-1}))},deleteItem:function(t){this.editedIndex=this.users.indexOf(t),this.supplierId=t.supplierId,this.dialogDelete=!0},deleteItemConfirm:function(){var t=this;this.users.splice(this.editedIndex,1),this.axios.post(this.nodeApi+"/removeSupplier",{supplierId:this.supplierId}).then((function(e){e.data.affectedRows>0?(t.$swal.fire({type:"success",title:"Supplier Deleted successfully",text:"You have successfully added a new sales order"}),t.closeDelete()):t.$swal.fire({type:"error",title:"Supplier Deleting Failed",text:e.data.originalError.info.message})})).catch((function(e){t.$swal.fire({type:"error",title:"Item Deleting Failed",text:e})}))},initialize:function(){var t=this;this.axios.get(this.nodeApi+"/getAllSuppliers").then((function(e){t.users=e.data})).catch((function(t){console.log(t)}))},userStatus:function(t){return 0==t.status?"Inactive":"Active"},userType:function(t){return 1==t.userTypes?(console.log(t.userTypes),"Super Admin"):2==t.userTypes?"Admin":3==t.userTypes?"Accountant":4==t.userTypes?"Data Capturer":void 0},changeStatus:function(t,e){var a=this,r={supplierId:t.supplierId,status:e},i="";i=1==e?"Activated":"De-Activated",this.axios.post(this.nodeApi+"/updateSupplierStatus",r).then((function(t){t.data.affectedRows>0?(a.$swal.fire({type:"success",title:"User Updated",text:"Your supplier was successfully "+i+"."}),a.initialize()):a.$swal.fire({type:"error",title:"Updating Supplier Failed",text:t.data.originalError.info.message})})).catch((function(t){a.$swal.fire({type:"error",title:"Updating Supplier Failed",text:t})}))},editItem:function(t){this.editedIndex=this.users.indexOf(t),this.editedUser=Object.assign({},t),this.dialog=!0},close:function(){var t=this;this.dialog=!1,this.confirm_password="",this.$nextTick((function(){t.editedUser=Object.assign({},t.defaultUser),t.editedIndex=-1}))},save:function(){var t=this;if(this.editedIndex>-1){var e={supplierName:this.editedUser.supplierName,supplierAddress:this.editedUser.supplierAddress,supplierEmail:this.editedUser.supplierEmail,supplierPhone:this.editedUser.supplierPhone,supplierId:this.editedUser.supplierId,VATNumber:this.editedUser.VATNumber,createdBy:this.$session.get("user").userId};this.axios.post(this.nodeApi+"/updateSupplier",e).then((function(e){e.data.affectedRows>0?(t.$swal.fire({type:"success",title:"Customer Updated",text:"Your supplier was successfully updated."}),t.initialize()):t.$swal.fire({type:"error",title:"Updating Supplier Failed",text:e.data.originalError.info.message})})).catch((function(e){t.$swal.fire({type:"error",title:"Updating Supplier Failed",text:e})})),this.close()}else this.editedUser.supplierName?this.editedUser.supplierAddress?this.editedUser.supplierEmail?this.editedUser.supplierPhone?this.editedUser.VATNumber?(this.editedUser.createdBy=this.$session.get("user").userId,this.axios.post(this.nodeApi+"/addSupplier",this.editedUser).then((function(e){e.data.affectedRows>0?(t.$swal.fire({type:"success",title:"User Supplier",text:"Your new Supplier was successfully added."}),t.initialize()):t.$swal.fire({type:"error",title:"Adding Supplier Failed",text:e.data.originalError.info.message})})).catch((function(e){t.$swal.fire({type:"error",title:"Adding Supplier Failed",text:e})})),this.close()):this.$swal.fire({type:"error",title:"Adding Supplier Failed",text:"Please enter a valid VAT Number"}):this.$swal.fire({type:"error",title:"Adding Supplier Failed",text:"Please select a valid Supplier Phone"}):this.$swal.fire({type:"error",title:"Adding Supplier Failed",text:"Please enter a valid Email Address"}):this.$swal.fire({type:"error",title:"Adding Supplier Failed",text:"Please enter a valid Supplier Address"}):this.$swal.fire({type:"error",title:"Adding Supplier Failed",text:"Please enter a valid Supplier Name"})}}},ue=ce,ve=Object(o["a"])(ue,ne,de,!1,null,"76610526",null),pe=ve.exports;n()(ve,{VAppBar:ut["a"],VBtn:vt["a"],VCard:N["a"],VCardActions:I["a"],VCardText:I["c"],VCardTitle:I["d"],VCol:Dt["a"],VContainer:wt["a"],VDataTable:St["a"],VDialog:Ct["a"],VIcon:It["a"],VImg:T["a"],VRow:At["a"],VSpacer:$["a"],VTab:Ft["a"],VTabs:$t["a"],VTextField:Ot["a"],VToolbar:Ut["a"],VToolbarTitle:mt["b"],VTooltip:Et["a"]});var me=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-app-bar",{attrs:{color:"#003263",dark:"",src:a("d7c3")},scopedSlots:t._u([{key:"img",fn:function(e){var a=e.props;return[r("v-img",t._b({attrs:{gradient:"to top right, rgb(1,48,98,.9), rgb(22,61,99,.8)"}},"v-img",a,!1))]}},{key:"extension",fn:function(){return[r("v-tabs",{attrs:{right:""}},[r("v-tab",[t._v("Users List")])],1)]},proxy:!0}])},[r("div",[r("img",{staticClass:"bounceIn",staticStyle:{"margin-top":"50px"},attrs:{src:a("118f"),width:"150"}})]),r("v-spacer"),r("v-toolbar-title",[t._v("User Management")])],1),r("div",{staticStyle:{"background-color":"#EBEFF3",height:"95vh","overflow-y":"auto"}},[r("br"),r("v-card",{staticClass:"ml-5 mr-5 mb-5"},[r("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.users,search:t.search,"sort-by":"userId"},scopedSlots:t._u([{key:"top",fn:function(){return[r("v-toolbar",{attrs:{flat:"",color:"white"}},[r("v-spacer"),r("v-text-field",{staticClass:"mt-5 mr-5",attrs:{dense:"","append-icon":"search",label:"Search",solo:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),r("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,i=e.attrs;return[r("v-btn",t._g(t._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",i,!1),a),[t._v("New User")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-card",[r("v-card-title",{staticClass:"headline blue lighten-2 white--text",attrs:{"primary-title":""}},[r("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),r("v-card-text",[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[r("v-text-field",{attrs:{label:"First Name"},model:{value:t.editedUser.firstName,callback:function(e){t.$set(t.editedUser,"firstName",e)},expression:"editedUser.firstName"}})],1),r("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[r("v-text-field",{attrs:{label:"Last Name"},model:{value:t.editedUser.lastName,callback:function(e){t.$set(t.editedUser,"lastName",e)},expression:"editedUser.lastName"}})],1),r("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[r("v-text-field",{attrs:{label:"Email Address"},model:{value:t.editedUser.emailAddress,callback:function(e){t.$set(t.editedUser,"emailAddress",e)},expression:"editedUser.emailAddress"}})],1),r("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[r("v-select",{staticClass:"text-left",attrs:{"item-text":"name","item-value":"id",items:t.userTypeData,label:"Select UserType"},on:{input:t.getUserType},model:{value:t.editedUser.usertype,callback:function(e){t.$set(t.editedUser,"usertype",e)},expression:"editedUser.usertype"}})],1),"New User"==t.formTitle?r("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[r("v-text-field",{attrs:{type:"password",label:"Password"},model:{value:t.editedUser.userPassword,callback:function(e){t.$set(t.editedUser,"userPassword",e)},expression:"editedUser.userPassword"}})],1):t._e(),"New User"==t.formTitle?r("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[r("v-text-field",{attrs:{type:"password",label:"Confirm Password"},model:{value:t.confirm_password,callback:function(e){t.confirm_password=e},expression:"confirm_password"}})],1):t._e()],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancel")]),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.save}},[t._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var a=e.item;return[1==t.userTypeAdmin?r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[r("v-icon",t._g(t._b({staticClass:"mr-2",attrs:{color:"blue"},on:{click:function(e){return t.editItem(a)}}},"v-icon",s,!1),i),[t._v(" edit ")])]}}],null,!0)},[r("span",[t._v("Edit User")])]):t._e(),1!=a.status?r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[r("v-icon",t._g(t._b({staticClass:"mr-2",attrs:{color:"red"},on:{click:function(e){return t.changeStatus(a,1)}}},"v-icon",s,!1),i),[t._v(" face ")])]}}],null,!0)},[r("span",[t._v("Activate User")])]):t._e(),0!=a.status?r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[r("v-icon",t._g(t._b({staticClass:"mr-2",attrs:{color:"green"},on:{click:function(e){return t.changeStatus(a,0)}}},"v-icon",s,!1),i),[t._v(" face ")])]}}],null,!0)},[r("span",[t._v("De-Activate User")])]):t._e(),1==t.userTypeAdmin?r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[r("v-icon",t._g(t._b({staticClass:"mr-2",attrs:{color:"gray"},on:{click:function(e){return t.openRestPassword(a)}}},"v-icon",s,!1),i),[t._v(" vpn_key ")])]}}],null,!0)},[r("span",[t._v("Reset Password")])]):t._e(),1==t.userTypeAdmin?r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[r("v-icon",t._g(t._b({staticClass:"mr-2",attrs:{color:"red"},on:{click:function(e){return t.deleteItem(a)}}},"v-icon",s,!1),i),[t._v(" delete ")])]}}],null,!0)},[r("span",[t._v("Delete User")])]):t._e()]}},{key:"no-data",fn:function(){return[r("v-btn",{attrs:{color:"primary"},on:{click:t.initialize}},[t._v("Reset")])]},proxy:!0},{key:"item.status",fn:function(e){var a=e.item;return[t._v(" "+t._s(t.userStatus(a))+" ")]}},{key:"item.userTypes",fn:function(e){var a=e.item;return[t._v(" "+t._s(t.userType(a))+" ")]}}])})],1)],1),r("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogRestPassword,callback:function(e){t.dialogRestPassword=e},expression:"dialogRestPassword"}},[r("v-card",[r("v-card-title",{staticClass:"headline red lighten-2 white--text",attrs:{"primary-title":""}},[r("span",{staticClass:"headline"},[t._v("Reset Password")])]),r("v-card-text",[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[r("v-text-field",{attrs:{type:"password",label:"Password"},model:{value:t.editedUser.userPassword,callback:function(e){t.$set(t.editedUser,"userPassword",e)},expression:"editedUser.userPassword"}})],1),r("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[r("v-text-field",{attrs:{type:"password",label:"Confirm Password"},model:{value:t.confirm_password,callback:function(e){t.confirm_password=e},expression:"confirm_password"}})],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialogRestPassword=!1}}},[t._v("Cancel")]),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.restPassword}},[t._v("Save")])],1)],1)],1),r("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[t._v("Are you sure you want to delete this item?")]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.closeDelete}},[t._v("Cancel")]),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.deleteItemConfirm}},[t._v("OK")]),r("v-spacer")],1)],1)],1)],1)},he=[],fe=a("53ca"),ge={data:function(){return{dialogDelete:!1,nodeApi:"",page:"Main Page",dialog:!1,dialogRestPassword:!1,search:"",confirm_password:"",userTypeData:[{id:1,name:"Super Admin"},{id:2,name:"Sales Officer"},{id:3,name:"Accountant"},{id:4,name:"Driver"},{id:5,name:"Silo Officer"}],userStatusData:[{id:1,name:"Active"},{id:2,name:"Inactive"}],headers:[{text:"User ID",value:"userId"},{text:"First Name",value:"firstName"},{text:"Last Name",value:"lastName"},{text:"Email Address",value:"emailAddress"},{text:"User Status",value:"status"},{text:"User Type",value:"userTypes"},{text:"Actions",value:"actions",sortable:!1}],users:[],editedIndex:-1,editedUser:{firstName:"",lastName:"",emailAddress:"",userPassword:"",userTypes:"",nationalId:"",driversId:"",usetype:""},defaultUser:{firstName:"",lastName:"",emailAddress:"",userPassword:"",userTypes:"",nationalId:"",driversId:"",usetype:""},passwordObj:{},userTypeAdmin:null,userId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"New User":"Edit User"}},watch:{dialog:function(t){t||this.close()}},mounted:function(){this.userTypeAdmin=this.$session.get("user").userTypes},created:function(){this.initialize()},methods:{closeDelete:function(){var t=this;this.dialogDelete=!1,this.$nextTick((function(){t.editedIndex=-1}))},deleteItem:function(t){this.editedIndex=this.users.indexOf(t),this.userId=t.userId,this.dialogDelete=!0},deleteItemConfirm:function(){var t=this;this.users.splice(this.editedIndex,1),this.axios.post(this.nodeApi+"/removeUser",{userId:this.userId}).then((function(e){e.data.affectedRows>0?(t.$swal.fire({type:"success",title:"User Deleted successfully",text:"You have successfully added a new sales order"}),t.closeDelete()):t.$swal.fire({type:"error",title:"User Deleting Failed",text:e.data.originalError.info.message})})).catch((function(e){t.$swal.fire({type:"error",title:"Item Deleting Failed",text:e})}))},getUserType:function(){console.log(Object(fe["a"])(this.editedUser.usertype))},initialize:function(){var t=this;this.axios.get(this.nodeApi+"/getAllUsers").then((function(e){t.users=e.data})).catch((function(t){console.log(t)}))},userStatus:function(t){return 0==t.status?"Inactive":"Active"},userType:function(t){return 1==t.userTypes?"Super Admin":2==t.userTypes?"Sales Officer":3==t.userTypes?"Accountant":4==t.userTypes?"Truck Driver":5==t.userTypes?"Silo Officer":void 0},openRestPassword:function(t){this.dialogRestPassword=!0,this.passwordObj={userId:t.userId,userPassword:""}},restPassword:function(){var t=this;this.passwordObj.userPassword=this.confirm_password,this.editedUser.userPassword?this.editedUser.userPassword!=this.confirm_password?this.$swal.fire({type:"error",title:"Update User Failed",text:"Passwords do not match"}):this.axios.post(this.nodeApi+"/updatePassword",this.passwordObj).then((function(e){e.data.affectedRows>0?(t.$swal.fire({type:"success",title:"User Updated",text:"Your user password was updated successfully."}),t.initialize(),t.dialogRestPassword=!1,t.confirm_password="",t.editedUser.userPassword=""):t.$swal.fire({type:"error",title:"Updating User Failed",text:e.data.originalError.info.message})})).catch((function(e){t.$swal.fire({type:"error",title:"Updating User Failed",text:e})})):this.$swal.fire({type:"error",title:"Update User Failed",text:"Please enter a valid Password"})},changeStatus:function(t,e){var a=this,r={userId:t.userId,status:e},i="";i=1==e?"Activated":"De-Activated",this.axios.post(this.nodeApi+"/updateStatus",r).then((function(t){t.data.affectedRows>0?(a.$swal.fire({type:"success",title:"User Updated",text:"Your user was successfully "+i+"."}),a.initialize()):a.$swal.fire({type:"error",title:"Updating User Failed",text:t.data.originalError.info.message})})).catch((function(t){a.$swal.fire({type:"error",title:"Updating User Failed",text:t})}))},editItem:function(t){this.editedIndex=this.users.indexOf(t),this.editedUser=Object.assign({},t),this.dialog=!0},close:function(){var t=this;this.dialog=!1,this.confirm_password="",this.$nextTick((function(){t.editedUser=Object.assign({},t.defaultUser),t.editedIndex=-1}))},save:function(){var t=this;if(this.editedIndex>-1){var e={firstName:this.editedUser.firstName,lastName:this.editedUser.lastName,emailAddress:this.editedUser.emailAddress,userId:this.editedUser.userId,usertype:this.editedUser.usertype};this.axios.post(this.nodeApi+"/updateUser",e).then((function(e){e.data.affectedRows>0?(t.$swal.fire({type:"success",title:"User Updated",text:"Your user was successfully updated."}),t.initialize()):t.$swal.fire({type:"error",title:"Updating User Failed",text:e.data.originalError.info.message})})).catch((function(e){t.$swal.fire({type:"error",title:"Updating User Failed",text:e})})),this.close()}else this.editedUser.firstName?this.editedUser.lastName?this.editedUser.emailAddress?this.editedUser.usertype?this.editedUser.userPassword?this.editedUser.userPassword!=this.confirm_password?this.$swal.fire({type:"error",title:"Adding User Failed",text:"Passwords do not match"}):(this.editedUser.createdBy=this.$session.get("user").userId,this.axios.post(this.nodeApi+"/addUser",this.editedUser).then((function(e){e.data.affectedRows>0?(t.$swal.fire({type:"success",title:"User Added",text:"Your new user was successfully added."}),t.initialize(),t.close()):t.$swal.fire({type:"error",title:"Adding User Failed",text:e.data.originalError.info.message})})).catch((function(e){t.$swal.fire({type:"error",title:"Adding User Failed",text:e})}))):this.$swal.fire({type:"error",title:"Adding User Failed",text:"Please enter a valid Password"}):this.$swal.fire({type:"error",title:"Adding User Failed",text:"Please select a valid User Type"}):this.$swal.fire({type:"error",title:"Adding User Failed",text:"Please enter a valid Email Address"}):this.$swal.fire({type:"error",title:"Adding User Failed",text:"Please enter a valid Last Name"}):this.$swal.fire({type:"error",title:"Adding User Failed",text:"Please enter a valid First Name"})}}},xe=ge,ye=a("b974"),be=Object(o["a"])(xe,me,he,!1,null,"59e1766c",null),_e=be.exports;n()(be,{VAppBar:ut["a"],VBtn:vt["a"],VCard:N["a"],VCardActions:I["a"],VCardText:I["c"],VCardTitle:I["d"],VCol:Dt["a"],VContainer:wt["a"],VDataTable:St["a"],VDialog:Ct["a"],VIcon:It["a"],VImg:T["a"],VRow:At["a"],VSelect:ye["a"],VSpacer:$["a"],VTab:Ft["a"],VTabs:$t["a"],VTextField:Ot["a"],VToolbar:Ut["a"],VToolbarTitle:mt["b"],VTooltip:Et["a"]});var De=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-app-bar",{attrs:{color:"#003263",dark:"",src:a("d7c3")},scopedSlots:t._u([{key:"img",fn:function(e){var a=e.props;return[r("v-img",t._b({attrs:{gradient:"to top right, rgb(1,48,98,.9), rgb(22,61,99,.8)"}},"v-img",a,!1))]}},{key:"extension",fn:function(){return[r("v-tabs",{attrs:{right:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.items,(function(e){return r("v-tab",{key:e},[t._v(" "+t._s(e)+" ")])})),1)]},proxy:!0}])},[r("div",[r("img",{staticClass:"bounceIn",staticStyle:{"margin-top":"50px"},attrs:{src:a("118f"),width:"150"}})]),r("v-spacer"),r("v-toolbar-title",[t._v("Silo Management")])],1),r("div",{staticStyle:{"background-color":"#EBEFF3",height:"88vh","overflow-y":"auto",display:"flex","justify-content":"center"}},[r("br"),0==t.tab?r("v-card",{staticClass:"ma-5",attrs:{width:"1000",height:"750"}},[r("v-toolbar",{attrs:{dark:"",color:"green",flat:""}},[r("v-toolbar-title",[t._v("Delivery In form")]),r("v-spacer"),r("v-btn",{staticClass:"mr-5",attrs:{color:"blue",dark:""},on:{click:function(e){t.dialogNewProduct=!0}}},[r("v-icon",{attrs:{left:""}},[t._v(" add ")]),t._v(" Add Delivery ")],1),r("download-csv",{attrs:{data:t.products,fields:["siloId","docDate","driverName","description","tonnesIn"]}},[r("v-btn",{staticClass:"mr-5",attrs:{color:"red",dark:""}},[r("v-icon",{attrs:{left:""}},[t._v(" add ")]),t._v(" Export ")],1)],1)],1),r("v-data-table",{attrs:{headers:t.headersProducts,items:t.products,search:t.search},scopedSlots:t._u([{key:"top",fn:function(){return[r("v-toolbar",{attrs:{flat:"",color:"white"}},[r("v-spacer"),r("v-btn",{staticClass:"mr-5",attrs:{color:"blue",dark:""},on:{click:t.deliveryToday}},[r("v-icon",{attrs:{left:""}},[t._v(" search ")]),t._v(" Today ")],1),r("v-btn",{staticClass:"mr-5",attrs:{color:"blue",dark:""},on:{click:function(e){t.dialogSpecific=!0}}},[r("v-icon",{attrs:{left:""}},[t._v(" search ")]),t._v(" Specfic Date ")],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var a=e.item;return[1==t.userTypeAdmin?r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[r("v-icon",t._g(t._b({staticClass:"mr-2",attrs:{color:"red"},on:{click:function(e){return t.deleteItemIn(a)}}},"v-icon",s,!1),i),[t._v(" delete ")])]}}],null,!0)},[r("span",[t._v("Delete Item")])]):t._e()]}},{key:"no-data",fn:function(){return[r("h3",[t._v("No Records Found")])]},proxy:!0}],null,!1,3347593386)})],1):t._e(),1==t.tab?r("v-card",{staticClass:"ma-5",attrs:{width:"1000",height:"750"}},[r("v-toolbar",{attrs:{dark:"",color:"green",flat:""}},[r("v-toolbar-title",[t._v("Delivery Out form")]),r("v-spacer"),r("v-btn",{staticClass:"mr-5",attrs:{color:"blue",dark:""},on:{click:function(e){t.dialogNewProduct2=!0}}},[r("v-icon",{attrs:{left:""}},[t._v(" add ")]),t._v(" Add Delivery ")],1),r("download-csv",{attrs:{data:t.products2,fields:["siloId","docDate","driverName","description","tonnesIn"]}},[r("v-btn",{staticClass:"mr-5",attrs:{color:"red",dark:""}},[r("v-icon",{attrs:{left:""}},[t._v(" add ")]),t._v(" Export ")],1)],1)],1),r("v-data-table",{attrs:{headers:t.headersProducts2,items:t.products2,search:t.search},scopedSlots:t._u([{key:"top",fn:function(){return[r("v-toolbar",{attrs:{flat:"",color:"white"}},[r("v-spacer"),r("v-btn",{staticClass:"mr-5",attrs:{color:"blue",dark:""},on:{click:t.deliveryToday2}},[r("v-icon",{attrs:{left:""}},[t._v(" search ")]),t._v(" Today ")],1),r("v-btn",{staticClass:"mr-5",attrs:{color:"blue",dark:""},on:{click:function(e){t.dialogSpecific2=!0}}},[r("v-icon",{attrs:{left:""}},[t._v(" search ")]),t._v(" Specfic Date ")],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var a=e.item;return[1==t.userTypeAdmin?r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[r("v-icon",t._g(t._b({staticClass:"mr-2",attrs:{color:"red"},on:{click:function(e){return t.deleteItemOut(a)}}},"v-icon",s,!1),i),[t._v(" delete ")])]}}],null,!0)},[r("span",[t._v("Delete Item")])]):t._e()]}},{key:"no-data",fn:function(){return[r("h3",[t._v("No Records Found")])]},proxy:!0}],null,!1,830579971)})],1):t._e(),2==t.tab?r("v-card",{staticClass:"ma-5",attrs:{width:"1000",height:"750"}},[r("v-toolbar",{attrs:{dark:"",color:"red",flat:""}},[r("v-toolbar-title",[t._v("Payments Income/Expense form")]),r("v-spacer"),r("v-btn",{staticClass:"mr-5",attrs:{color:"blue",dark:""},on:{click:function(e){t.dialogNewProduct3=!0}}},[r("v-icon",{attrs:{left:""}},[t._v(" add ")]),t._v(" Add Payment ")],1),r("v-btn",{staticClass:"mr-5",attrs:{color:"orange",dark:""},on:{click:function(e){t.dialogNewProduct4=!0}}},[r("v-icon",{attrs:{left:""}},[t._v(" add ")]),t._v(" Add Expense ")],1),r("download-csv",{attrs:{data:t.products3,fields:["logisticsId","docDate","supplierName","currencyISO","weight","cost","description"]}},[r("v-btn",{staticClass:"mr-5",attrs:{color:"green",dark:""}},[r("v-icon",{attrs:{left:""}},[t._v(" add ")]),t._v(" Export ")],1)],1)],1),r("v-data-table",{attrs:{headers:t.headersProducts3,items:t.products3,search:t.search},scopedSlots:t._u([{key:"top",fn:function(){return[r("v-toolbar",{attrs:{flat:"",color:"white"}},[r("v-spacer"),r("v-btn",{staticClass:"mr-5",attrs:{color:"blue",dark:""},on:{click:t.deliveryToday3}},[r("v-icon",{attrs:{left:""}},[t._v(" search ")]),t._v(" Today ")],1),r("v-btn",{staticClass:"mr-5",attrs:{color:"blue",dark:""},on:{click:function(e){t.dialogSpecific3=!0}}},[r("v-icon",{attrs:{left:""}},[t._v(" search ")]),t._v(" Specfic Date ")],1)],1)]},proxy:!0},{key:"item.debit",fn:function(e){var a=e.item;return[r("v-chip",{attrs:{color:"green",dark:""}},[t._v(" ZWL "+t._s(parseFloat(a.debit).toFixed(2))+" ")])]}},{key:"item.credit",fn:function(e){var a=e.item;return[r("v-chip",{attrs:{color:"red",dark:""}},[t._v(" ZWL "+t._s(parseFloat(a.credit).toFixed(2))+" ")])]}},{key:"item.actions",fn:function(e){var a=e.item;return[0!=a.status?r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[r("v-icon",t._g(t._b({staticClass:"mr-2",attrs:{color:"red"},on:{click:function(e){return t.deleteItem(a)}}},"v-icon",s,!1),i),[t._v(" delete ")])]}}],null,!0)},[r("span",[t._v("Delete")])]):t._e()]}},{key:"no-data",fn:function(){return[r("h3",[t._v("No Records Found")])]},proxy:!0}],null,!1,488121956)})],1):t._e()],1),r("v-dialog",{attrs:{"max-width":"750px"},model:{value:t.dialogNewProduct,callback:function(e){t.dialogNewProduct=e},expression:"dialogNewProduct"}},[r("v-card",[r("v-card-title",{staticClass:"headline blue lighten-2 white--text",attrs:{"primary-title":""}},[r("span",{staticClass:"headline"},[t._v("Create New Delivery In")]),r("v-spacer")],1),r("v-card-text",[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[r("div",{staticStyle:{display:"flex","justify-content":"start"}},[r("span",[t._v("Delivery Date")])]),r("v-text-field",{attrs:{solo:"",outlined:"",type:"date"},model:{value:t.deliverNote.docDate,callback:function(e){t.$set(t.deliverNote,"docDate",e)},expression:"deliverNote.docDate"}})],1),r("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[r("div",{staticStyle:{display:"flex","justify-content":"start"}},[r("span",[t._v("Truck Driver")])]),r("v-text-field",{attrs:{label:"Truck Driver",solo:"",outlined:""},model:{value:t.deliverNote.driverId,callback:function(e){t.$set(t.deliverNote,"driverId",e)},expression:"deliverNote.driverId"}})],1),r("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[r("v-text-field",{attrs:{label:"Raw Material Weight (Tonnes)",solo:"",outlined:""},model:{value:t.deliverNote.tonnesIn,callback:function(e){t.$set(t.deliverNote,"tonnesIn",e)},expression:"deliverNote.tonnesIn"}})],1),r("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[r("v-text-field",{attrs:{label:"Truck No",solo:"",outlined:""},model:{value:t.deliverNote.truckNo,callback:function(e){t.$set(t.deliverNote,"truckNo",e)},expression:"deliverNote.truckNo"}})],1),r("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[r("v-text-field",{attrs:{label:"Trailer No",solo:"",outlined:""},model:{value:t.deliverNote.trailerNo,callback:function(e){t.$set(t.deliverNote,"trailerNo",e)},expression:"deliverNote.trailerNo"}})],1),r("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[r("v-text-field",{attrs:{label:"Delivery Note",solo:"",outlined:""},model:{value:t.deliverNote.description,callback:function(e){t.$set(t.deliverNote,"description",e)},expression:"deliverNote.description"}})],1)],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"red darken-1",dark:""},on:{click:function(e){t.dialogNewProduct=!1}}},[t._v("Cancel")]),r("v-btn",{attrs:{color:"blue darken-1",dark:""},on:{click:t.saveProduct}},[t._v("Save")])],1)],1)],1),r("v-dialog",{attrs:{"max-width":"750px"},model:{value:t.dialogNewProduct2,callback:function(e){t.dialogNewProduct2=e},expression:"dialogNewProduct2"}},[r("v-card",[r("v-card-title",{staticClass:"headline blue lighten-2 white--text",attrs:{"primary-title":""}},[r("span",{staticClass:"headline"},[t._v("Create New Delivery Out")]),r("v-spacer")],1),r("v-card-text",[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[r("div",{staticStyle:{display:"flex","justify-content":"start"}},[r("span",[t._v("Delivery Date")])]),r("v-text-field",{attrs:{solo:"",outlined:"",type:"date"},model:{value:t.deliverNote.docDate,callback:function(e){t.$set(t.deliverNote,"docDate",e)},expression:"deliverNote.docDate"}})],1),r("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[r("div",{staticStyle:{display:"flex","justify-content":"start"}},[r("span",[t._v("Truck Driver")])]),r("v-text-field",{attrs:{label:"Truck Driver",solo:"",outlined:""},model:{value:t.deliverNote.driverId,callback:function(e){t.$set(t.deliverNote,"driverId",e)},expression:"deliverNote.driverId"}})],1),r("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[r("v-text-field",{attrs:{label:"Raw Material Weight (Tonnes)",solo:"",outlined:""},model:{value:t.deliverNote.tonnesOut,callback:function(e){t.$set(t.deliverNote,"tonnesOut",e)},expression:"deliverNote.tonnesOut"}})],1),r("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[r("v-text-field",{attrs:{label:"Truck No",solo:"",outlined:""},model:{value:t.deliverNote.truckNo,callback:function(e){t.$set(t.deliverNote,"truckNo",e)},expression:"deliverNote.truckNo"}})],1),r("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[r("v-text-field",{attrs:{label:"Trailer No",solo:"",outlined:""},model:{value:t.deliverNote.trailerNo,callback:function(e){t.$set(t.deliverNote,"trailerNo",e)},expression:"deliverNote.trailerNo"}})],1),r("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[r("v-text-field",{attrs:{label:"Delivery Note",solo:"",outlined:""},model:{value:t.deliverNote.description,callback:function(e){t.$set(t.deliverNote,"description",e)},expression:"deliverNote.description"}})],1)],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"red darken-1",dark:""},on:{click:function(e){t.dialogNewProduct2=!1}}},[t._v("Cancel")]),r("v-btn",{attrs:{color:"blue darken-1",dark:""},on:{click:t.saveProduct2}},[t._v("Save")])],1)],1)],1),r("v-dialog",{attrs:{"max-width":"750px"},model:{value:t.dialogNewProduct3,callback:function(e){t.dialogNewProduct3=e},expression:"dialogNewProduct3"}},[r("v-card",[r("v-card-title",{staticClass:"headline blue lighten-2 white--text",attrs:{"primary-title":""}},[r("span",{staticClass:"headline"},[t._v("Create New Payment In")]),r("v-spacer")],1),r("v-card-text",[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[r("div",{staticStyle:{display:"flex","justify-content":"start"}},[r("span",[t._v("Delivery Date")])]),r("v-text-field",{attrs:{solo:"",outlined:"",type:"date"},model:{value:t.deliverNote.docDate,callback:function(e){t.$set(t.deliverNote,"docDate",e)},expression:"deliverNote.docDate"}})],1),r("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[r("div",{staticStyle:{display:"flex","justify-content":"start"}},[r("span",[t._v("Imcoming Payment")])]),r("v-text-field",{attrs:{solo:"",outlined:""},model:{value:t.deliverNote.debit,callback:function(e){t.$set(t.deliverNote,"debit",e)},expression:"deliverNote.debit"}})],1),r("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[r("v-textarea",{attrs:{label:"Payment Description",solo:"",outlined:""},model:{value:t.deliverNote.description,callback:function(e){t.$set(t.deliverNote,"description",e)},expression:"deliverNote.description"}})],1)],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"red darken-1",dark:""},on:{click:function(e){t.dialogNewProduct3=!1}}},[t._v("Cancel")]),r("v-btn",{attrs:{color:"blue darken-1",dark:""},on:{click:t.saveProduct3}},[t._v("Save")])],1)],1)],1),r("v-dialog",{attrs:{"max-width":"750px"},model:{value:t.dialogNewProduct4,callback:function(e){t.dialogNewProduct4=e},expression:"dialogNewProduct4"}},[r("v-card",[r("v-card-title",{staticClass:"headline blue lighten-2 white--text",attrs:{"primary-title":""}},[r("span",{staticClass:"headline"},[t._v("Create New Payment Out")]),r("v-spacer")],1),r("v-card-text",[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[r("div",{staticStyle:{display:"flex","justify-content":"start"}},[r("span",[t._v("Delivery Date")])]),r("v-text-field",{attrs:{solo:"",outlined:"",type:"date"},model:{value:t.deliverNote.docDate,callback:function(e){t.$set(t.deliverNote,"docDate",e)},expression:"deliverNote.docDate"}})],1),r("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[r("div",{staticStyle:{display:"flex","justify-content":"start"}},[r("span",[t._v("Outging Payment")])]),r("v-text-field",{attrs:{solo:"",outlined:""},model:{value:t.deliverNote.credit,callback:function(e){t.$set(t.deliverNote,"credit",e)},expression:"deliverNote.credit"}})],1),r("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[r("v-textarea",{attrs:{label:"Payment Description",solo:"",outlined:""},model:{value:t.deliverNote.description,callback:function(e){t.$set(t.deliverNote,"description",e)},expression:"deliverNote.description"}})],1)],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"red darken-1",dark:""},on:{click:function(e){t.dialogNewProduct4=!1}}},[t._v("Cancel")]),r("v-btn",{attrs:{color:"blue darken-1",dark:""},on:{click:t.saveProduct4}},[t._v("Save")])],1)],1)],1),r("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[t._v("Are you sure you want to delete this item?")]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.closeDelete}},[t._v("Cancel")]),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.deleteItemConfirm}},[t._v("OK")]),r("v-spacer")],1)],1)],1),r("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogDeleteIn,callback:function(e){t.dialogDeleteIn=e},expression:"dialogDeleteIn"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[t._v("Are you sure you want to delete this item?")]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.closeDelete}},[t._v("Cancel")]),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.deleteItemConfirmIn}},[t._v("OK")]),r("v-spacer")],1)],1)],1),r("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogDeleteOut,callback:function(e){t.dialogDeleteOut=e},expression:"dialogDeleteOut"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[t._v("Are you sure you want to delete this item?")]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.closeDelete}},[t._v("Cancel")]),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.deleteItemConfirmOut}},[t._v("OK")]),r("v-spacer")],1)],1)],1),r("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.dialogSpecific,callback:function(e){t.dialogSpecific=e},expression:"dialogSpecific"}},[r("v-card",[r("v-card-title",{staticClass:"headline red lighten-2 white--text",attrs:{"primary-title":""}},[r("span",{staticClass:"headline"},[t._v("Search Delivery by Date")]),r("v-spacer")],1),r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[r("v-text-field",{attrs:{type:"date",solo:"",outlined:""},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}})],1),r("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[r("v-text-field",{attrs:{type:"date",solo:"",outlined:""},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"red darken-1",dark:""},on:{click:function(e){t.dialogSpecific=!1}}},[t._v("Cancel")]),r("v-btn",{attrs:{color:"blue darken-1",dark:""},on:{click:t.deliverySpecific}},[t._v("Save")])],1)],1)],1),r("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.dialogSpecific2,callback:function(e){t.dialogSpecific2=e},expression:"dialogSpecific2"}},[r("v-card",[r("v-card-title",{staticClass:"headline red lighten-2 white--text",attrs:{"primary-title":""}},[r("span",{staticClass:"headline"},[t._v("Search Delivery by Date")]),r("v-spacer")],1),r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[r("v-text-field",{attrs:{type:"date",solo:"",outlined:""},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}})],1),r("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[r("v-text-field",{attrs:{type:"date",solo:"",outlined:""},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"red darken-1",dark:""},on:{click:function(e){t.dialogSpecific2=!1}}},[t._v("Cancel")]),r("v-btn",{attrs:{color:"blue darken-1",dark:""},on:{click:t.deliverySpecific2}},[t._v("Save")])],1)],1)],1),r("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.dialogSpecific3,callback:function(e){t.dialogSpecific3=e},expression:"dialogSpecific3"}},[r("v-card",[r("v-card-title",{staticClass:"headline red lighten-2 white--text",attrs:{"primary-title":""}},[r("span",{staticClass:"headline"},[t._v("Search Payment by Date")]),r("v-spacer")],1),r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[r("v-text-field",{attrs:{type:"date",solo:"",outlined:""},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}})],1),r("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[r("v-text-field",{attrs:{type:"date",solo:"",outlined:""},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"red darken-1",dark:""},on:{click:function(e){t.dialogSpecific3=!1}}},[t._v("Cancel")]),r("v-btn",{attrs:{color:"blue darken-1",dark:""},on:{click:t.deliverySpecific3}},[t._v("Save")])],1)],1)],1),r("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.dialogSpecific4,callback:function(e){t.dialogSpecific4=e},expression:"dialogSpecific4"}},[r("v-card",[r("v-card-title",{staticClass:"headline red lighten-2 white--text",attrs:{"primary-title":""}},[r("span",{staticClass:"headline"},[t._v("Search Payment by Date")]),r("v-spacer")],1),r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[r("v-text-field",{attrs:{type:"date",solo:"",outlined:""},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}})],1),r("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[r("v-text-field",{attrs:{type:"date",solo:"",outlined:""},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"red darken-1",dark:""},on:{click:function(e){t.dialogSpecific4=!1}}},[t._v("Cancel")]),r("v-btn",{attrs:{color:"blue darken-1",dark:""},on:{click:t.deliverySpecific3}},[t._v("Save")])],1)],1)],1),r("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.dialogloader,callback:function(e){t.dialogloader=e},expression:"dialogloader"}},[r("v-card",{attrs:{color:"#003263",dark:""}},[r("v-card-text",[r("br"),r("h3",[t._v("Please stand by")]),r("br"),r("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}}),r("br")],1)],1)],1),r("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.dialogPrintIn,callback:function(e){t.dialogPrintIn=e},expression:"dialogPrintIn"}},[r("v-card",[r("v-toolbar",{staticClass:"no-print",attrs:{dark:"",color:"primary"}},[r("v-toolbar-title",[t._v("Delivery Note Preview")]),r("v-spacer"),r("v-toolbar-items",[r("v-btn",{attrs:{dark:"",text:""},on:{click:function(e){t.dialogPrintIn=!1}}},[t._v(" Close ")])],1)],1),r("br"),r("br"),r("v-card-text",[r("div",{staticClass:"invoice-box",attrs:{id:"invoiceR"}},[r("table",{attrs:{cellpadding:"0",cellspacing:"0"}},[r("tr",{staticClass:"top"},[r("td",{attrs:{colspan:"5"}},[r("table",[r("tr",[r("td",{staticClass:"title"},[r("img",{staticStyle:{width:"100%","max-width":"200px"},attrs:{src:a("733b")}})]),r("td",[t._v(" Delivery Note In#: "+t._s(t.deliveryNumner)),r("br"),t._v(" Date: "+t._s(t.deliveryDate)),r("br")])])])])]),r("tr",{staticClass:"information"},[r("td",{attrs:{colspan:"5"}},[r("table",[r("tr",[r("td",[t._v(" 380 simon mazarodze"),r("br"),t._v(" road zimbabwe"),r("br"),t._v(" Zimbabwe ")]),r("td",[t._v(" GMB Zimbabwe"),r("br"),t._v(" Driver : "+t._s(t.driverName)),r("br")])])])])]),r("tr",{staticClass:"heading"},[r("td",[t._v(" Item ")]),r("td",{staticStyle:{"text-align":"right"}}),r("td",{staticStyle:{"text-align":"right"}}),r("td",{staticStyle:{"text-align":"right"}}),r("td",{staticStyle:{"text-align":"right"}},[t._v(" (Tonnes) Size ")])]),r("tr",{staticClass:"item"},[r("td",[t._v(" "+t._s(t.rawMaterial)+" ")]),r("td",{staticStyle:{"text-align":"right"}}),r("td",{staticStyle:{"text-align":"right"}}),r("td",{staticStyle:{"text-align":"right"}}),r("td",{staticStyle:{"text-align":"right"}},[t._v(" "+t._s(t.deliverNote.tonnesIn)+" Tonnes ")])]),r("br"),r("br"),r("br"),r("br"),r("br"),r("br"),r("tr",{staticClass:"total"},[r("td",[t._v(" Company Stamp ")]),r("td"),r("td"),r("td"),r("td",{staticStyle:{"text-align":"right"}},[t._v(" Total: "+t._s(t.deliverNote.tonnesIn)+" Tonnes ")])])])])])],1)],1),r("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.dialogPrintOut,callback:function(e){t.dialogPrintOut=e},expression:"dialogPrintOut"}},[r("v-card",[r("v-toolbar",{staticClass:"no-print",attrs:{dark:"",color:"primary"}},[r("v-toolbar-title",[t._v("Delivery Note Preview")]),r("v-spacer"),r("v-toolbar-items",[r("v-btn",{attrs:{dark:"",text:""},on:{click:function(e){t.dialogPrintOut=!1}}},[t._v(" Close ")])],1)],1),r("br"),r("br"),r("v-card-text",[r("div",{staticClass:"invoice-box",attrs:{id:"invoiceR"}},[r("table",{attrs:{cellpadding:"0",cellspacing:"0"}},[r("tr",{staticClass:"top"},[r("td",{attrs:{colspan:"5"}},[r("table",[r("tr",[r("td",{staticClass:"title"},[r("img",{staticStyle:{width:"100%","max-width":"200px"},attrs:{src:a("733b")}})]),r("td",[t._v(" Delivery Note Out #: "+t._s(t.deliveryNumner)),r("br"),t._v(" Date: "+t._s(t.deliveryDate)),r("br")])])])])]),r("tr",{staticClass:"information"},[r("td",{attrs:{colspan:"5"}},[r("table",[r("tr",[r("td",[t._v(" 380 simon mazarodze"),r("br"),t._v(" road zimbabwe"),r("br"),t._v(" Zimbabwe ")]),r("td",[t._v(" GMB Zimbabwe"),r("br"),t._v(" Driver : "+t._s(t.driverName)),r("br")])])])])]),r("tr",{staticClass:"heading"},[r("td",[t._v(" Item ")]),r("td",{staticStyle:{"text-align":"right"}}),r("td",{staticStyle:{"text-align":"right"}}),r("td",{staticStyle:{"text-align":"right"}}),r("td",{staticStyle:{"text-align":"right"}},[t._v(" (Tonnes) Size ")])]),r("tr",{staticClass:"item"},[r("td",[t._v(" "+t._s(t.rawMaterial2)+" ")]),r("td",{staticStyle:{"text-align":"right"}}),r("td",{staticStyle:{"text-align":"right"}}),r("td",{staticStyle:{"text-align":"right"}}),r("td",{staticStyle:{"text-align":"right"}},[t._v(" "+t._s(t.deliverNote.tonnesOut)+" Tonnes ")])]),r("br"),r("br"),r("br"),r("br"),r("br"),r("br"),r("tr",{staticClass:"total"},[r("td",[t._v(" Company Stamp ")]),r("td"),r("td"),r("td"),r("td",{staticStyle:{"text-align":"right"}},[t._v(" Total: "+t._s(t.deliverNote.tonnesOut)+" Tonnes ")])])])])])],1)],1)],1)},ke=[],we={data:function(){return{deliveryNumner:"",deliveryDate:"",driverName:"",driverEmail:"",cost:"",weight:"",rawMaterial:"Raw Material Mazie",rawMaterial2:"Finished Maize Meal 10KG Bags",startDate:"",endDate:"",dialogPrintOut:!1,dialogPrintIn:!1,dialogSpecific:!1,dialogSpecific2:!1,dialogSpecific3:!1,dialogSpecific4:!1,dialogloader:!1,dialogNewProduct:!1,dialogNewProduct2:!1,dialogNewProduct3:!1,dialogNewProduct4:!1,dialogDelete:!1,dialogDeleteIn:!1,dialogDeleteOut:!1,currency:"USD",nodeApi:"",selectedCustomer:"",tab:0,items:["Delivery In","Delivery Out","Income/Expenses"],search:"",pagination:{itemsPerPage:15},productDetails:{productCurrency:"1",productName:"",productSize:"",productPrice:""},deliverNote:{docDate:"",driverId:"",tonnesIn:"",debit:"",credit:"",tonnesOut:"",truckNo:"",trailerNo:"",description:""},salesOrder:{docDate:"",docCurrency:"",description:"",itemData:[],docTotal:0},customers:[],snack:!1,snackColor:"",snackText:"",max25chars:function(t){return t.length<=25||"Input too long!"},headersProducts:[{text:"Delivery ID",align:"start",sortable:!1,value:"siloId"},{text:"Delivery Date",align:"start",sortable:!1,value:"docDate"},{text:"Driver Name",align:"start",sortable:!1,value:"driverName"},{text:"Material Szie (Tonnes)",align:"start",sortable:!1,value:"tonnesIn"},{text:"Description",align:"start",sortable:!1,value:"description"},{text:"Actions",value:"actions",sortable:!1}],headersProducts2:[{text:"Delivery ID",align:"start",sortable:!1,value:"siloId"},{text:"Delivery Date",align:"start",sortable:!1,value:"docDate"},{text:"Driver Name",align:"start",sortable:!1,value:"driverName"},{text:"Material Szie (Tonnes)",align:"start",sortable:!1,value:"tonnesOut"},{text:"Description",align:"start",sortable:!1,value:"description"},{text:"Actions",value:"actions"}],headersProducts3:[{text:"Payment ID",align:"start",sortable:!1,value:"siloId"},{text:"Payment Date",align:"start",sortable:!1,value:"docDate"},{text:"Payment Description",align:"start",sortable:!1,value:"description"},{text:"Credit Transaction",align:"start",sortable:!1,value:"credit"},{text:"Debit Transaction",align:"start",sortable:!1,value:"debit"},{text:"Actions",value:"actions"}],headersProducts4:[{text:"Delivery ID",align:"start",sortable:!1,value:"siloId"},{text:"Delivery Date",align:"start",sortable:!1,value:"docDate"},{text:"Driver Name",align:"start",sortable:!1,value:"driverName"},{text:"Material Szie (Tonnes)",align:"start",sortable:!1,value:"tonnesOut"},{text:"Description",align:"start",sortable:!1,value:"description"},{text:"Actions",value:"actions"}],headers:[{text:"Product ID",align:"start",sortable:!1,value:"productId"},{text:"Product Name",align:"start",sortable:!1,value:"productName"},{text:"Quantity",value:"quantity"},{text:"Size",value:"productSize"},{text:"Unit Price",value:"price"},{text:"TAX",value:"tax"},{text:"Line Total (Inc Tax)",value:"linetotal"},{text:"Actions",value:"actions"}],headersSales:[{text:"SalesOrder ID",align:"start",sortable:!1,value:"salesOrderId"},{text:"Sales Date",align:"start",sortable:!1,value:"docDate"},{text:"Customer Name",align:"start",sortable:!1,value:"customerName"},{text:"Sales Total",align:"start",sortable:!1,value:"docTotal"}],lineItems:[],editedIndex:-1,products:[],products2:[],products3:[],products4:[],productName:"",productCurrency:"",productSize:"",productPrice:"",productId:"",itemProducts:[],docCurrency:"1",salesOrdersData:[],drivers:[],siloId:"",userTypeAdmin:""}},mounted:function(){this.initialize(),this.getProducts(),this.getProducts2(),this.getProducts3(),this.getAllOrders(),this.getDrivers();var t=new Date,e=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate();this.deliverNote.docDate=e,this.userTypeAdmin=this.$session.get("user").userTypes},watch:{docCurrency:function(t){var e=t;this.salesOrder.docCurrency=e,"1"==t&&(this.currency="USD",this.salesOrder.docCurrency=e),"2"==t&&(this.currency="ZWL",this.salesOrder.docCurrency=e),this.clearForm();var a=new Date,r=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate();this.deliverNote.docDate=r,this.getProducts()},dialogSpecific:function(t){t&&(this.startDate="",this.endDate="")},dialogSpecific2:function(t){t&&(this.startDate="",this.endDate="")},dialogNewProduct:function(t){t&&(this.deliverNote={docDate:"",driverId:"",tonnesIn:"",debit:"",credit:"",tonnesOut:"",truckNo:"",trailerNo:"",description:""})},dialogNewProduct2:function(t){t&&(this.deliverNote={docDate:"",driverId:"",tonnesIn:"",debit:"",credit:"",tonnesOut:"",truckNo:"",trailerNo:"",description:""})},dialogNewProduct3:function(t){t&&(this.deliverNote={docDate:"",driverId:"",tonnesIn:"",debit:"",credit:"",tonnesOut:"",truckNo:"",trailerNo:"",description:""})}},methods:{getDrivers:function(){var t=this;this.axios.get(this.nodeApi+"/getAllDrivers").then((function(e){t.drivers=e.data})).catch((function(t){console.log(t)}))},editItem:function(t){this.productDetails=Object.assign({},t),this.productName=t.productName,this.productCurrency=t.productCurrency.toString(),this.productSize=t.productSize,this.productPrice=t.productPrice,this.productId=t.productId,console.log(this.productCurrency),this.dialogNewProduct2=!0},saveProductUpdate:function(){var t=this;this.productName?this.productSize?this.productPrice?isNaN(this.productSize)?this.$swal.fire({type:"error",title:"Updating Product Failed",text:"Please enter a valid Product size (it has to be a number)"}):isNaN(this.productPrice)?this.$swal.fire({type:"error",title:"Updating Product Failed",text:"Please enter a valid Product price (it has to be a number)"}):(this.dialogloader=!0,this.productDetails.productCurrency=this.productCurrency,this.productDetails.productName=this.productName,this.productDetails.productSize=this.productSize,this.productDetails.productPrice=this.productPrice,this.productDetails.productId=this.productId,this.productDetails.createdBy=this.$session.get("user").userId,this.axios.post(this.nodeApi+"/updateProduct",this.productDetails).then((function(e){e.data.affectedRows>0?(t.getProducts(),t.dialogNewProduct2=!1,t.dialogloader=!1,t.$swal.fire({type:"success",title:"Product Updated",text:"You have successfully updated a product"})):t.$swal.fire({type:"error",title:"Updating Product Failed",text:e.data.originalError.info.message})})).catch((function(e){t.$swal.fire({type:"error",title:"Updating Product Failed",text:e})}))):this.$swal.fire({type:"error",title:"Updating Product Failed",text:"Please enter a valid Product price"}):this.$swal.fire({type:"error",title:"Updating Product Failed",text:"Please enter a valid Product package size."}):this.$swal.fire({type:"error",title:"Updating Product Failed",text:"Please enter a valid Product Name."})},saveProduct:function(){var t=this;this.deliverNote.docDate?this.deliverNote.driverId?this.deliverNote.truckNo?this.deliverNote.trailerNo?this.deliverNote.description?this.deliverNote.tonnesIn?isNaN(this.deliverNote.tonnesIn)?this.$swal.fire({type:"error",title:"Adding Delivery Failed",text:"Please enter a valid Raw Material size (it has to be a number)"}):(this.dialogloader=!0,this.deliverNote.createdBy=this.$session.get("user").userId,this.axios.post(this.nodeApi+"/addDeliveryInSilo",this.deliverNote).then((function(e){if(e.data.affectedRows>0){t.getProducts(),t.dialogNewProduct=!1,t.dialogloader=!1,t.$swal.fire({type:"success",title:"Silo Delivery Added",text:"You have successfully added a new Delivery note"}),t.deliveryNumner=e.data.insertId;var a=t.deliverNote.driverId;t.driverName=a;var r=new Date(Date.now()),i=""+(r.getMonth()+1),s=""+r.getDate(),o=r.getFullYear();t.deliveryDate="".concat(s,"-").concat(i,"-").concat(o),t.dialogPrintIn=!0}else t.dialogloader=!1,t.$swal.fire({type:"error",title:"Adding Delivery Failed",text:e.data.originalError.info.message})})).catch((function(e){t.dialogloader=!1,t.$swal.fire({type:"error",title:"Adding Delivery Failed",text:e})}))):this.$swal.fire({type:"error",title:"Adding Delivery Failed",text:"Please enter a valid weight amount"}):this.$swal.fire({type:"error",title:"Adding Delivery Failed",text:"Please enter a valid description"}):this.$swal.fire({type:"error",title:"Adding Delivery Failed",text:"Please enter a valid trailer No"}):this.$swal.fire({type:"error",title:"Adding Delivery Failed",text:"Please enter a valid truck No"}):this.$swal.fire({type:"error",title:"Adding Delivery Failed",text:"Please enter a valid driver licence No."}):this.$swal.fire({type:"error",title:"Adding Delivery Failed",text:"Please enter a valid document Date."})},saveProduct2:function(){var t=this;this.deliverNote.docDate?this.deliverNote.driverId?this.deliverNote.truckNo?this.deliverNote.trailerNo?this.deliverNote.description?this.deliverNote.tonnesOut?isNaN(this.deliverNote.tonnesOut)?this.$swal.fire({type:"error",title:"Adding Delivery Failed",text:"Please enter a valid Raw Material size (it has to be a number)"}):(this.dialogloader=!0,this.deliverNote.createdBy=this.$session.get("user").userId,this.axios.post(this.nodeApi+"/addDeliveryOutSilo",this.deliverNote).then((function(e){if(e.data.affectedRows>0){t.getProducts2(),t.dialogNewProduct2=!1,t.dialogloader=!1,t.$swal.fire({type:"success",title:"Silo Delivery Added",text:"You have successfully added a new Delivery note"}),t.deliveryNumner=e.data.insertId;var a=t.deliverNote.driverId;t.driverName=a;var r=new Date(Date.now()),i=""+(r.getMonth()+1),s=""+r.getDate(),o=r.getFullYear();t.deliveryDate="".concat(s,"-").concat(i,"-").concat(o),t.dialogPrintOut=!0}else t.dialogloader=!1,t.$swal.fire({type:"error",title:"Adding Delivery Failed",text:e.data.originalError.info.message})})).catch((function(e){t.dialogloader=!1,t.$swal.fire({type:"error",title:"Adding Delivery Failed",text:e})}))):this.$swal.fire({type:"error",title:"Adding Delivery Failed",text:"Please enter a valid weight amount"}):this.$swal.fire({type:"error",title:"Adding Delivery Failed",text:"Please enter a valid description"}):this.$swal.fire({type:"error",title:"Adding Delivery Failed",text:"Please enter a valid trailer No"}):this.$swal.fire({type:"error",title:"Adding Delivery Failed",text:"Please enter a valid truck No"}):this.$swal.fire({type:"error",title:"Adding Delivery Failed",text:"Please enter a valid driver licence No."}):this.$swal.fire({type:"error",title:"Adding Delivery Failed",text:"Please enter a valid document Date."})},saveProduct3:function(){var t=this;this.deliverNote.docDate?this.deliverNote.description?this.deliverNote.debit?isNaN(this.deliverNote.debit)?this.$swal.fire({type:"error",title:"Adding Payment Failed",text:"Please enter a valid payment amount (it has to be a number)"}):(this.dialogloader=!0,this.deliverNote.createdBy=this.$session.get("user").userId,this.axios.post(this.nodeApi+"/addPaymentInSilo",this.deliverNote).then((function(e){e.data.affectedRows>0?(t.getProducts3(),t.dialogNewProduct3=!1,t.dialogloader=!1,t.$swal.fire({type:"success",title:"Silo Payment Added",text:"You have successfully added a new payment note"})):(t.dialogloader=!1,t.$swal.fire({type:"error",title:"Adding Payment Failed",text:e.data.originalError.info.message}))})).catch((function(e){t.dialogloader=!1,t.$swal.fire({type:"error",title:"Adding Payment Failed",text:e})}))):this.$swal.fire({type:"error",title:"Adding Payment Failed",text:"Please enter a valid payment amount"}):this.$swal.fire({type:"error",title:"Adding Payment Failed",text:"Please enter a valid description"}):this.$swal.fire({type:"error",title:"Adding Payment Failed",text:"Please enter a valid document Date."})},saveProduct4:function(){var t=this;this.deliverNote.docDate?this.deliverNote.description?this.deliverNote.credit?isNaN(this.deliverNote.credit)?this.$swal.fire({type:"error",title:"Adding Payment Failed",text:"Please enter a valid payment amount (it has to be a number)"}):(this.dialogloader=!0,this.deliverNote.createdBy=this.$session.get("user").userId,this.axios.post(this.nodeApi+"/addPaymentOutSilo",this.deliverNote).then((function(e){e.data.affectedRows>0?(t.getProducts3(),t.dialogNewProduct4=!1,t.dialogloader=!1,t.$swal.fire({type:"success",title:"Silo Payment Added",text:"You have successfully added a new payment note"})):(t.dialogloader=!1,t.$swal.fire({type:"error",title:"Adding Payment Failed",text:e.data.originalError.info.message}))})).catch((function(e){t.dialogloader=!1,t.$swal.fire({type:"error",title:"Adding Payment Failed",text:e})}))):this.$swal.fire({type:"error",title:"Adding Payment Failed",text:"Please enter a valid payment amount"}):this.$swal.fire({type:"error",title:"Adding Payment Failed",text:"Please enter a valid description"}):this.$swal.fire({type:"error",title:"Adding Payment Failed",text:"Please enter a valid document Date."})},addItem:function(){this.lineItems.push({productId:"1",productName:"Click to Edit",quantity:1,price:0,tax:14.5,linetotal:0})},clearForm:function(){this.salesOrder={customerId:"",docDate:"",docCurrency:"1",description:"",itemData:[],docTotal:0},this.lineItems=[];var t=new Date,e=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate();this.deliverNote.docDate=e},closeDelete:function(){var t=this;this.dialogDelete=!1,this.dialogDeleteIn=!1,this.dialogDeleteOut=!1,this.$nextTick((function(){t.editedIndex=-1})),this.initialize(),this.getProducts(),this.getProducts2(),this.getProducts3(),this.getAllOrders(),this.getDrivers()},deleteItem:function(t){this.editedIndex=this.products3.indexOf(t),this.siloId=t.siloId,this.dialogDelete=!0},deleteItemConfirm:function(){var t=this;this.products3.splice(this.editedIndex,1),this.axios.post(this.nodeApi+"/removeJournalSilo",{siloId:this.siloId}).then((function(e){e.data.affectedRows>0?(t.$swal.fire({type:"success",title:"Journal Deleted successfully",text:"You have successfully added a new sales order"}),t.closeDelete()):t.$swal.fire({type:"error",title:"Joural Deleting Failed",text:e.data.originalError.info.message})})).catch((function(e){t.$swal.fire({type:"error",title:"Item Deleting Failed",text:e})}))},closeDeleteIn:function(){var t=this;this.dialogDeleteIn=!1,this.$nextTick((function(){t.editedIndex=-1}))},deleteItemIn:function(t){this.editedIndex=this.products3.indexOf(t),this.siloId=t.siloId,this.dialogDeleteIn=!0},deleteItemConfirmIn:function(){var t=this;this.products3.splice(this.editedIndex,1),this.axios.post(this.nodeApi+"/removeDeliverySilo",{siloId:this.siloId}).then((function(e){e.data.affectedRows>0?(t.$swal.fire({type:"success",title:"Delivery Deleted successfully",text:"You have successfully added a new sales order"}),t.closeDelete()):t.$swal.fire({type:"error",title:"Delivery Deleting Failed",text:e.data.originalError.info.message})})).catch((function(e){t.$swal.fire({type:"error",title:"Item Deleting Failed",text:e})}))},closeDeleteOut:function(){var t=this;this.dialogDeleteOut=!1,this.$nextTick((function(){t.editedIndex=-1}))},deleteItemOut:function(t){this.editedIndex=this.products3.indexOf(t),this.siloId=t.siloId,this.dialogDeleteOut=!0},deleteItemConfirmOut:function(){var t=this;this.products3.splice(this.editedIndex,1),this.axios.post(this.nodeApi+"/removeDeliverySilo",{siloId:this.siloId}).then((function(e){e.data.affectedRows>0?(t.$swal.fire({type:"success",title:"Delivery Deleted successfully",text:"You have successfully added a new sales order"}),t.closeDelete()):t.$swal.fire({type:"error",title:"Delivery Deleting Failed",text:e.data.originalError.info.message})})).catch((function(e){t.$swal.fire({type:"error",title:"Item Deleting Failed",text:e})}))},getAllOrders:function(){var t=this;this.axios.get(this.nodeApi+"/getAllSalesOrders").then((function(e){t.salesOrdersData=e.data})).catch((function(t){console.log(t)}))},getProducts:function(){var t=this;this.axios.get(this.nodeApi+"/getAllDelieriesSiloIn").then((function(e){t.products=e.data})).catch((function(t){console.log(t)}))},getProducts2:function(){var t=this;this.axios.get(this.nodeApi+"/getAllDelieriesSiloOut").then((function(e){t.products2=e.data})).catch((function(t){console.log(t)}))},getProducts3:function(){var t=this;this.axios.get(this.nodeApi+"/getAllPaymentSilo").then((function(e){t.products3=e.data})).catch((function(t){console.log(t)}))},getProducts4:function(){var t=this;this.axios.get(this.nodeApi+"/getAllDelieriesSiloOut").then((function(e){t.products4=e.data})).catch((function(t){console.log(t)}))},deliveryToday:function(){var t=this;this.axios.get(this.nodeApi+"/getAllDelieriesTodaySiloIn").then((function(e){t.products=e.data})).catch((function(t){console.log(t)}))},deliverySpecific:function(){var t=this;this.axios.post(this.nodeApi+"/getAllDelieriesSpecificSiloIn",{startDate:this.startDate,endDate:this.endDate}).then((function(e){t.products=e.data,t.dialogSpecific=!1})).catch((function(t){console.log(t)}))},deliveryToday2:function(){var t=this;this.axios.get(this.nodeApi+"/getAllDelieriesTodaySiloOut").then((function(e){t.products2=e.data})).catch((function(t){console.log(t)}))},deliveryToday3:function(){var t=this;this.axios.get(this.nodeApi+"/getAllPaymentSiloToday").then((function(e){t.products3=e.data})).catch((function(t){console.log(t)}))},deliveryToday4:function(){var t=this;this.axios.get(this.nodeApi+"/getAllDelieriesTodaySiloOut").then((function(e){t.products4=e.data})).catch((function(t){console.log(t)}))},deliverySpecific2:function(){var t=this;this.axios.post(this.nodeApi+"/getAllDelieriesSpecificSiloOut",{startDate:this.startDate,endDate:this.endDate}).then((function(e){t.products2=e.data,t.dialogSpecific2=!1})).catch((function(t){console.log(t)}))},deliverySpecific3:function(){var t=this;this.axios.post(this.nodeApi+"/getAllPaymentSiloSpecific",{startDate:this.startDate,endDate:this.endDate}).then((function(e){t.products3=e.data,t.dialogSpecific3=!1})).catch((function(t){console.log(t)}))},initialize:function(){var t=this;this.axios.get(this.nodeApi+"/getAllSuppliers").then((function(e){t.customers=e.data})).catch((function(t){console.log(t)}))},save:function(t){var e=this;console.log(t);var a=this.products.find((function(e){var a=e.productName;return a===t.productName})),r=this.lineItems.indexOf(t);t.productName==a.productName?(this.lineItems[r].productId=a.productId,this.lineItems[r].price=a.productPrice,this.lineItems[r].productSize=a.productSize,this.lineItems[r].linetotal=a.productPrice*t.quantity+a.productPrice*t.quantity*t.tax/100,this.lineItems.forEach((function(t){e.salesOrder.docTotal+=t.linetotal}))):console.log("Data Mismatch"),this.snack=!0,this.snackColor="success",this.snackText="Data saved"},cancel:function(){this.snack=!0,this.snackColor="error",this.snackText="Canceled"},open:function(){this.snack=!0,this.snackColor="info",this.snackText="Dialog opened"},close:function(){console.log("Dialog closed")},saveSalesOrder:function(){var t=this;this.dialogloader=!0,this.salesOrder.itemData=JSON.stringify(this.lineItems),this.salesOrder.docCurrency=this.docCurrency,this.salesOrder.createdBy=this.$session.get("user").userId,this.axios.post(this.nodeApi+"/addSalesOrder",this.salesOrder).then((function(e){e.data.length>0?(t.$swal.fire({type:"success",title:"Sales Order Added",text:"You have successfully added a new sales order"}),t.clearForm(),t.getAllOrders(),t.dialogloader=!1):(t.dialogloader=!1,t.$swal.fire({type:"error",title:"Adding Sales Order Failed",text:e.data.originalError.info.message}))})).catch((function(e){t.dialogloader=!1,t.$swal.fire({type:"error",title:"Adding Sales Order Failed",text:e})}))}}},Se=we,Ce=Object(o["a"])(Se,De,ke,!1,null,null,null),Ne=Ce.exports;n()(Ce,{VAppBar:ut["a"],VBtn:vt["a"],VCard:N["a"],VCardActions:I["a"],VCardText:I["c"],VCardTitle:I["d"],VChip:J["a"],VCol:Dt["a"],VContainer:wt["a"],VDataTable:St["a"],VDialog:Ct["a"],VIcon:It["a"],VImg:T["a"],VProgressLinear:Pt["a"],VRow:At["a"],VSpacer:$["a"],VTab:Ft["a"],VTabs:$t["a"],VTextField:Ot["a"],VTextarea:Vt["a"],VToolbar:Ut["a"],VToolbarItems:mt["a"],VToolbarTitle:mt["b"],VTooltip:Et["a"]});var Ie=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-app-bar",{attrs:{color:"#003263",dark:"",src:a("d7c3")},scopedSlots:t._u([{key:"img",fn:function(e){var a=e.props;return[r("v-img",t._b({attrs:{gradient:"to top right, rgb(1,48,98,.9), rgb(22,61,99,.8)"}},"v-img",a,!1))]}},{key:"extension",fn:function(){return[r("v-tabs",{attrs:{right:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.items,(function(e){return r("v-tab",{key:e},[t._v(" "+t._s(e)+" ")])})),1)]},proxy:!0}])},[r("div",[r("img",{staticClass:"bounceIn",staticStyle:{"margin-top":"50px"},attrs:{src:a("118f"),width:"150"}})]),r("v-spacer"),r("v-toolbar-title",[t._v("Stock Management")])],1),r("div",{staticStyle:{"background-color":"#EBEFF3",height:"88vh","overflow-y":"auto",display:"flex","justify-content":"center"}},[r("br"),0==t.tab?r("v-card",{staticClass:"ma-5",attrs:{width:"1000",height:"750"}},[r("v-toolbar",{attrs:{dark:"",color:"green",flat:""}},[r("v-toolbar-title",[t._v("Stock Convertion List ")]),r("v-spacer"),r("h3",{staticClass:"mr-5"},[t._v("Total Raw Stock : "+t._s(parseFloat(t.rawStock).toFixed(2))+" Tonnes")]),r("v-btn",{staticClass:"mr-5",attrs:{color:"blue",dark:""},on:{click:function(e){t.dialogNewProduct=!0}}},[r("v-icon",{attrs:{left:""}},[t._v(" add ")]),t._v(" Create Stock ")],1),r("download-csv",{attrs:{data:t.products}},[r("v-btn",{staticClass:"mr-5",attrs:{color:"red",dark:""}},[r("v-icon",{attrs:{left:""}},[t._v(" add ")]),t._v(" Export ")],1)],1)],1),r("v-data-table",{attrs:{headers:t.headersProducts,items:t.products,search:t.search,"sort-by":"stockCreationId","sort-desc":""},scopedSlots:t._u([{key:"top",fn:function(){return[r("v-toolbar",{attrs:{flat:"",color:"white"}},[r("v-spacer"),r("v-btn",{staticClass:"mr-5",attrs:{color:"blue",dark:""},on:{click:t.deliveryToday}},[r("v-icon",{attrs:{left:""}},[t._v(" search ")]),t._v(" Today ")],1),r("v-btn",{staticClass:"mr-5",attrs:{color:"blue",dark:""},on:{click:function(e){t.dialogSpecific=!0}}},[r("v-icon",{attrs:{left:""}},[t._v(" search ")]),t._v(" Specfic Date ")],1)],1)]},proxy:!0},{key:"item.createdBags",fn:function(e){var a=e.item;return[r("v-chip",{attrs:{color:"green",dark:""}},[t._v(" "+t._s(a.createdBags)+" Bags ")])]}},{key:"item.materialUsed",fn:function(e){var a=e.item;return[r("v-chip",{attrs:{color:"orange",dark:""}},[t._v(" "+t._s(parseFloat(a.materialUsed).toFixed(2))+" T ")])]}},{key:"no-data",fn:function(){return[r("h3",[t._v("No Records Found")])]},proxy:!0}],null,!1,2204902967)})],1):t._e()],1),r("v-dialog",{attrs:{"max-width":"750px"},model:{value:t.dialogNewProduct,callback:function(e){t.dialogNewProduct=e},expression:"dialogNewProduct"}},[r("v-card",[r("v-card-title",{staticClass:"headline blue lighten-2 white--text",attrs:{"primary-title":""}},[r("span",{staticClass:"headline"},[t._v("Stock Creation Form ")]),r("v-spacer")],1),r("v-card-text",[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[r("div",{staticStyle:{display:"flex","justify-content":"start"}},[r("span",[t._v("Delivery Date")])]),r("v-text-field",{attrs:{solo:"",outlined:"",type:"date"},model:{value:t.stock.docDate,callback:function(e){t.$set(t.stock,"docDate",e)},expression:"stock.docDate"}})],1),r("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[r("div",{staticStyle:{display:"flex","justify-content":"start"}},[r("span",[t._v("Select Product")])]),r("v-autocomplete",{attrs:{"item-text":"productName","item-value":"productId",items:t.products2,solo:"",outlined:""},model:{value:t.stock.productId,callback:function(e){t.$set(t.stock,"productId",e)},expression:"stock.productId"}})],1),r("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[r("v-text-field",{attrs:{type:"number",label:"Raw Material Weight (Tonnes)",outlined:""},model:{value:t.stock.materialUsed,callback:function(e){t.$set(t.stock,"materialUsed",e)},expression:"stock.materialUsed"}})],1),r("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[r("v-text-field",{attrs:{type:"number",label:"Number of bags",outlined:""},model:{value:t.stock.createdBags,callback:function(e){t.$set(t.stock,"createdBags",e)},expression:"stock.createdBags"}})],1)],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"red darken-1",dark:""},on:{click:function(e){t.dialogNewProduct=!1}}},[t._v("Cancel")]),r("v-btn",{attrs:{color:"blue darken-1",dark:""},on:{click:t.saveProduct}},[t._v("Save")])],1)],1)],1),r("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[t._v("Are you sure you want to delete this item?")]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.closeDelete}},[t._v("Cancel")]),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.deleteItemConfirm}},[t._v("OK")]),r("v-spacer")],1)],1)],1),r("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.dialogSpecific,callback:function(e){t.dialogSpecific=e},expression:"dialogSpecific"}},[r("v-card",[r("v-card-title",{staticClass:"headline red lighten-2 white--text",attrs:{"primary-title":""}},[r("span",{staticClass:"headline"},[t._v("Search Stock Creation by Date")]),r("v-spacer")],1),r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[r("v-text-field",{attrs:{type:"date",solo:"",outlined:""},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}})],1),r("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[r("v-text-field",{attrs:{type:"date",solo:"",outlined:""},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"red darken-1",dark:""},on:{click:function(e){t.dialogSpecific=!1}}},[t._v("Cancel")]),r("v-btn",{attrs:{color:"blue darken-1",dark:""},on:{click:t.deliverySpecific}},[t._v("Save")])],1)],1)],1),r("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.dialogloader,callback:function(e){t.dialogloader=e},expression:"dialogloader"}},[r("v-card",{attrs:{color:"#003263",dark:""}},[r("v-card-text",[r("br"),r("h3",[t._v("Please stand by")]),r("br"),r("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}}),r("br")],1)],1)],1)],1)},Pe=[],Ae={data:function(){return{description:"",rawMaterial:"Raw Material",log_cost:0,log_totalCost:0,log_weight:0,deliveryNumner:"",deliveryDate:"",supplierName:"",suppilerAddress:"",supplierEmail:"",dialogPrint:!1,startDate:"",endDate:"",dialogSpecific:!1,dialogloader:!1,dialogNewProduct:!1,dialogNewProduct2:!1,dialogDelete:!1,currency:"USD",nodeApi:"",selectedCustomer:"",tab:0,items:["Stock Creation"],search:"",pagination:{itemsPerPage:15},stock:{docDate:"",productId:"",materialUsed:0,createdBags:0},customers:[],snack:!1,snackColor:"",snackText:"",weight:0,cost:0,max25chars:function(t){return t.length<=25||"Input too long!"},headersProducts:[{text:"Creation ID",align:"start",sortable:!1,value:"stockCreationId"},{text:"Creation Date",align:"start",sortable:!1,value:"docDate"},{text:"Product Name",align:"start",sortable:!1,value:"productName"},{text:"Material Used Size (Tonnes)",align:"start",sortable:!1,value:"materialUsed"},{text:"Stock Created",align:"start",sortable:!1,value:"createdBags"}],lineItems:[],editedIndex:-1,products:[],products2:[],productName:"",productCurrency:"",productSize:"",productPrice:"",productId:"",itemProducts:[],docCurrency:"1",salesOrdersData:[],logisticsId:"",rawStock:0}},mounted:function(){this.getProducts(),this.getProducts2(),this.getRawStock();var t=new Date,e=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate();this.stock.docDate=e},watch:{dialogNewProduct:function(t){t&&(this.stock={docDate:"",productId:"",materialUsed:0,createdBags:0})}},methods:{saveProduct:function(){var t=this;this.stock.docDate?this.stock.productId?this.stock.materialUsed?this.stock.createdBags?isNaN(this.stock.materialUsed)?this.$swal.fire({type:"error",title:"Adding Stock Failed",text:"Please enter a valid Raw Material size (it has to be a number)"}):isNaN(this.stock.createdBags)?this.$swal.fire({type:"error",title:"Adding Stock Failed",text:"Please enter a valid Product size (it has to be a number)"}):this.rawStock<this.stock.materialUsed?this.$swal.fire({type:"error",title:"Adding Stock Failed",text:"Sorry you are trying to convert more material than you have in stock."}):(this.dialogloader=!0,this.stock.createdBy=this.$session.get("user").userId,this.axios.post(this.nodeApi+"/addNewStocks",this.stock).then((function(e){e.data.length>0?(t.getProducts(),t.getProducts2(),t.getRawStock(),t.dialogNewProduct=!1,t.dialogloader=!1,t.$swal.fire({type:"success",title:"Stock Added",text:"You have successfully added a new Delivery note"}),t.dialogloader=!1):(t.dialogloader=!1,t.$swal.fire({type:"error",title:"Adding Stock Failed",text:e.data.originalError.info.message}))})).catch((function(e){t.dialogloader=!1,t.$swal.fire({type:"error",title:"Adding Delivery Failed",text:e})}))):this.$swal.fire({type:"error",title:"Adding Stock Failed",text:"Please enter a valid stock converted amount"}):this.$swal.fire({type:"error",title:"Adding Stock Failed",text:"Please enter a valid material amount"}):this.$swal.fire({type:"error",title:"Adding Stock Failed",text:"Please enter a valid product."}):this.$swal.fire({type:"error",title:"Adding Stock Failed",text:"Please enter a valid document Date."})},getProducts2:function(){var t=this;this.axios.get(this.nodeApi+"/getAllProducts").then((function(e){t.products2=e.data})).catch((function(t){console.log(t)}))},closeDelete:function(){var t=this;this.dialogDelete=!1,this.$nextTick((function(){t.editedIndex=-1}))},deleteItem:function(t){this.editedIndex=this.products.indexOf(t),this.logisticsId=t.logisticsId,this.dialogDelete=!0},deleteItemConfirm:function(){var t=this;this.products.splice(this.editedIndex,1),this.axios.post(this.nodeApi+"/removeDeliveryIn",{logisticsId:this.logisticsId}).then((function(e){e.data.affectedRows>0?(t.$swal.fire({type:"success",title:"Item Deleted successfully",text:"You have successfully added a new sales order"}),t.closeDelete()):t.$swal.fire({type:"error",title:"Item Deleting Failed",text:e.data.originalError.info.message})})).catch((function(e){t.$swal.fire({type:"error",title:"Item Deleting Failed",text:e})}))},getProducts:function(){var t=this;this.axios.get(this.nodeApi+"/getAllCreatedProducts").then((function(e){t.products=e.data})).catch((function(t){console.log(t)}))},getRawStock:function(){var t=this;this.axios.get(this.nodeApi+"/getRawStock").then((function(e){t.rawStock=e.data[0].tonnes})).catch((function(t){console.log(t)}))},deliveryToday:function(){var t=this;this.axios.get(this.nodeApi+"/getAllCreatedProductsToday").then((function(e){t.products=e.data})).catch((function(t){console.log(t)}))},deliverySpecific:function(){var t=this;this.axios.post(this.nodeApi+"/getAllCreatedProductsSpecific",{startDate:this.startDate,endDate:this.endDate}).then((function(e){t.products=e.data,t.dialogSpecific=!1})).catch((function(t){console.log(t)}))}}},Te=Ae,Fe=(a("0c7d"),Object(o["a"])(Te,Ie,Pe,!1,null,null,null)),$e=Fe.exports;n()(Fe,{VAppBar:ut["a"],VAutocomplete:_t["a"],VBtn:vt["a"],VCard:N["a"],VCardActions:I["a"],VCardText:I["c"],VCardTitle:I["d"],VChip:J["a"],VCol:Dt["a"],VContainer:wt["a"],VDataTable:St["a"],VDialog:Ct["a"],VIcon:It["a"],VImg:T["a"],VProgressLinear:Pt["a"],VRow:At["a"],VSpacer:$["a"],VTab:Ft["a"],VTabs:$t["a"],VTextField:Ot["a"],VToolbar:Ut["a"],VToolbarTitle:mt["b"]});var Oe={components:{dashboard:ft,sales:Rt,accounts:Wt,logistics:ee,customers:le,suppliers:pe,users:_e,silo:Ne,stocks:$e},data:function(){return{nodeApi:"",userName:"",userType:null,page:"",drawer:!1,dialogloader:!1}},mounted:function(){if(this.$session.exists()){this.userName=this.$session.get("user").firstName,this.userType=this.$session.get("user").userTypes;var t=this.$swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3});t.fire({type:"success",title:"Signed in successfully"}),this.updateAdmin()}else this.$router.push({name:"Login"}).catch((function(){}));2==this.userType?this.page="sales":3==this.userType?this.page="accounts":5==this.userType?this.page="silo":this.page="dashboard"},methods:{updateAdmin:function(){this.axios.get(this.nodeApi+"/updateAdmin").then((function(t){console.log(t.data)})).catch((function(t){console.log(t)}))},Headering:function(t){return"users"==t?"User Admin Page":"dashboard"==t?"Dashboard Page":"tickets"==t?"Tickets Page":"settings"==t?"Settings Page":"crm"==t?"Customer Relations Management Page":"reports"==t?"Reports Page":void 0},logout:function(){this.$session.destroy(),this.$router.push({name:"Login"}).catch((function(){}))},selectMenu:function(t){this.page="",this.page=t}}},Ve=Oe,Ue=a("8860"),Ee=a("da13"),ze=a("1baa"),Re=a("34c3"),Me=a("5d23"),Le=a("f6c4"),je=a("f774"),Be=Object(o["a"])(Ve,f,g,!1,null,null,null),Ye=Be.exports;n()(Be,{VApp:d["a"],VCard:N["a"],VCardText:I["c"],VDialog:Ct["a"],VIcon:It["a"],VList:Ue["a"],VListItem:Ee["a"],VListItemGroup:ze["a"],VListItemIcon:Re["a"],VListItemTitle:Me["b"],VMain:Le["a"],VNavigationDrawer:je["a"],VProgressLinear:Pt["a"]});var Ge=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"main"},[r("div",{style:t.logoStyle},[r("div",{style:t.loginPage},[r("img",{staticClass:"bounceIn",staticStyle:{"margin-bottom":"25px"},attrs:{src:a("733b"),width:"300"}})]),r("div",{style:t.form},[r("form",[t.leftDays<=0?r("h4",{staticStyle:{color:"red"}},[t._v("Sorry your licence has expired")]):t._e(),t.leftDays<=30&&t.leftDays>=1?r("h4",{staticStyle:{color:"red"}},[t._v("Licence expiring in "+t._s(t.leftDays)+" days")]):t._e(),r("br"),r("input",{directives:[{name:"model",rawName:"v-model",value:t.userName,expression:"userName"}],style:t.formInput,attrs:{type:"text",placeholder:"User Email"},domProps:{value:t.userName},on:{input:function(e){e.target.composing||(t.userName=e.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],style:t.formInput,attrs:{type:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t.active?t._e():r("button",{style:t.loginButton1,attrs:{disabled:""},on:{click:function(e){return e.preventDefault(),t.login(e)}}},[t._v("login")]),t.active?r("button",{style:t.loginButton,on:{click:function(e){return e.preventDefault(),t.login(e)}}},[t._v("login")]):t._e()])])]),r("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.dialogloader,callback:function(e){t.dialogloader=e},expression:"dialogloader"}},[r("v-card",{attrs:{color:"#003263",dark:""}},[r("v-card-text",[r("br"),r("h3",[t._v("Please stand by")]),r("br"),r("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}}),r("br")],1)],1)],1)],1)},qe=[],Je={data:function(){return{nodeApi:"",userName:"",password:"",active:!1,leftDays:0,dialogloader:!1,imageLogo:"../assets/logo.png",logoStyle:{"text-align":"center"},loginPage:{width:"360px",padding:"10% 0 0",margin:"auto"},form:{position:"relative","z-index":1,background:"#FFFFFF","max-width":"360px",margin:"0 auto 100px",padding:"45px","text-align":"center","box-shadow":"0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24)"},formInput:{"font-family":'"Roboto", sans-serif',outline:0,background:"#f2f2f2",width:"100%",border:0,margin:"0 0 15px",padding:"15px","box-sizing":"border-box","font-size":"14px"},loginButton:{"font-family":'"Roboto", sans-serif',"text-transform":"uppercase",outline:0,background:"#003263",width:"100%",border:0,padding:"15px",color:"#FFFFFF","font-size":"14px","-webkit-transition":"all 0.3 ease",transition:"all 0.3 ease",cursor:"pointer"},loginButton1:{"font-family":'"Roboto", sans-serif',"text-transform":"uppercase",outline:0,background:"grey",width:"100%",border:0,padding:"15px",color:"#FFFFFF","font-size":"14px","-webkit-transition":"all 0.3 ease",transition:"all 0.3 ease",cursor:"pointer"}}},mounted:function(){this.check()},methods:{check:function(){var t=this;return Object(b["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.axios.all([t.axios.get(t.nodeApi+"/getAdmin")]).then(t.axios.spread((function(e){e.data[0].leftDays>0?(t.active=!0,t.leftDays=e.data[0].leftDays):t.active=!1}))).catch((function(t){return console.log(t)}));case 2:case"end":return e.stop()}}),e)})))()},login:function(){var t=this;this.dialogloader=!0,this.userName&&this.password?this.axios.post(this.nodeApi+"/getUser",{emailAddress:this.userName,userPassword:this.password}).then((function(e){1==e.data.length?(t.dialogloader=!1,t.$session.start(),t.$session.set("user",e.data[0]),t.$router.push({name:"Home"}).catch((function(){})),console.log(t.$session.get("user"))):(t.dialogloader=!1,t.$swal.fire({type:"error",title:"Login Failure",text:"Invalid username and password."}))})).catch((function(e){t.dialogloader=!1,t.$swal.fire({type:"error",title:"Logout Failed",text:e})})):(this.dialogloader=!1,this.$swal.fire({type:"error",title:"Login Failure",text:"Please enter a valid username and password."}))}}},Ze=Je,We=(a("ff63"),Object(o["a"])(Ze,Ge,qe,!1,null,"077cea02",null)),Ke=We.exports;n()(We,{VCard:N["a"],VCardText:I["c"],VDialog:Ct["a"],VProgressLinear:Pt["a"]}),r["a"].use(h["a"]);var He=[{path:"/",name:"Login",component:Ke},{path:"/home",name:"Home",component:Ye},{path:"/about",name:"About",component:function(){return a.e("about").then(a.bind(null,"f820"))}}],Qe=new h["a"]({routes:He}),Xe=Qe,ta=a("6293"),ea=a.n(ta),aa=a("0628"),ra=a.n(aa),ia=(a("bf68"),a("fb67")),sa=a.n(ia),oa=a("5886"),la=(a("4413"),a("bc3a")),na=a.n(la),da=a("a7fe"),ca=a.n(da),ua=a("2347"),va=a.n(ua),pa=a("63d6"),ma=a.n(pa);r["a"].use(ma.a),r["a"].component("downloadCsv",va.a),r["a"].use(ca.a,na.a),r["a"].use(ea.a),r["a"].use(oa["a"]),r["a"].component("vue-tel-input",sa.a),r["a"].use(ra.a),r["a"].config.productionTip=!1,new r["a"]({vuetify:m,router:Xe,render:function(t){return t(v)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var r=a("9c0c"),i=a.n(r);i.a},"6a9d":function(t,e,a){"use strict";var r=a("6de7"),i=a.n(r);i.a},"6de7":function(t,e,a){},"733b":function(t,e,a){t.exports=a.p+"img/ghub_.67ca2f5e.png"},"8c51":function(t,e,a){"use strict";var r=a("aabd"),i=a.n(r);i.a},"9c0c":function(t,e,a){},aabd:function(t,e,a){},abf9:function(t,e,a){},be85:function(t,e,a){"use strict";var r=a("226b"),i=a.n(r);i.a},cb87:function(t,e,a){},d614:function(t,e,a){"use strict";var r=a("cb87"),i=a.n(r);i.a},d7c3:function(t,e,a){t.exports=a.p+"img/vbanner5.a2726d8c.jpg"},e94e:function(t,e,a){},f431:function(t,e,a){"use strict";var r=a("f4bb"),i=a.n(r);i.a},f4bb:function(t,e,a){},ff63:function(t,e,a){"use strict";var r=a("1ba7"),i=a.n(r);i.a}});
//# sourceMappingURL=app.4d327030.js.map